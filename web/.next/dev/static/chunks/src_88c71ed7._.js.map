{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/components/ListCard.tsx"],"sourcesContent":["import { ArrowUpRight } from 'lucide-react';\nimport { clsx } from 'clsx';\n\ninterface ListCardProps {\n    title: string;\n    itemsCount: number;\n    pantryCount: number;\n    variant: 'blue' | 'yellow' | 'green' | 'pink' | 'purple';\n    activeTab: 'shopping' | 'pantry';\n    onClick?: () => void;\n}\n\nexport const ListCard = ({ title, itemsCount, pantryCount, variant, activeTab, onClick }: ListCardProps) => {\n    const variants = {\n        blue: 'bg-card-blue text-on-card-blue',\n        yellow: 'bg-card-yellow text-on-card-yellow',\n        green: 'bg-card-green text-on-card-green',\n        pink: 'bg-card-pink text-on-card-pink',\n        purple: 'bg-purple-200 text-purple-900'\n    };\n\n    const isShopping = activeTab === 'shopping';\n\n    return (\n        <div\n            onClick={onClick}\n            className={clsx(\n                \"rounded-[var(--radius-xl)] p-6 relative overflow-hidden material-shadow-1 transition-transform active:scale-98 cursor-pointer group h-40 flex flex-col justify-between\",\n                variants[variant]\n            )}\n        >\n            <div className=\"flex justify-between items-start\">\n                <h3 className=\"text-xl font-bold tracking-tight\">{title}</h3>\n                <div className=\"bg-white/30 px-3 py-1 rounded-full backdrop-blur-sm\">\n                    {/* Dynamic badge based on what's interesting? Show both for now or just one? Prompt said \"instead of pills... show 7 in pantry\". Let's show Pantry count prominently */}\n                    <span className=\"text-xs font-semibold\">\n                        {isShopping ? `${itemsCount} To Buy` : `${pantryCount} In Pantry`}\n                    </span>\n                </div>\n            </div>\n\n            <div className=\"flex justify-between items-end\">\n                <p className=\"text-sm font-medium opacity-80\">\n                    {isShopping ? `${pantryCount} In Pantry` : `${itemsCount} To Buy`}\n                </p>\n                <button className=\"w-10 h-10 rounded-full bg-black/10 flex items-center justify-center transition-colors group-hover:bg-black/20\">\n                    <ArrowUpRight size={20} />\n                </button>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAWO,MAAM,WAAW,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE,WAAW,EAAE,OAAO,EAAE,SAAS,EAAE,OAAO,EAAiB;IACnG,MAAM,WAAW;QACb,MAAM;QACN,QAAQ;QACR,OAAO;QACP,MAAM;QACN,QAAQ;IACZ;IAEA,MAAM,aAAa,cAAc;IAEjC,qBACI,6LAAC;QACG,SAAS;QACT,WAAW,IAAA,gJAAI,EACX,0KACA,QAAQ,CAAC,QAAQ;;0BAGrB,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAAoC;;;;;;kCAClD,6LAAC;wBAAI,WAAU;kCAEX,cAAA,6LAAC;4BAAK,WAAU;sCACX,aAAa,GAAG,WAAW,OAAO,CAAC,GAAG,GAAG,YAAY,UAAU,CAAC;;;;;;;;;;;;;;;;;0BAK7E,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAE,WAAU;kCACR,aAAa,GAAG,YAAY,UAAU,CAAC,GAAG,GAAG,WAAW,OAAO,CAAC;;;;;;kCAErE,6LAAC;wBAAO,WAAU;kCACd,cAAA,6LAAC,6OAAY;4BAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAKxC;KAvCa"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/views/LandingView.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { ShoppingCart, Zap, Box, ArrowRight, Loader2, Check, ChefHat, Users } from 'lucide-react';\nimport { auth, db } from '../lib/firebase';\nimport { signInWithPopup, GoogleAuthProvider, isSignInWithEmailLink, signInWithEmailLink } from 'firebase/auth';\nimport { doc, setDoc, serverTimestamp } from 'firebase/firestore';\nimport { ListCard } from '../components/ListCard';\n\ninterface LandingViewProps {\n    onLoginSuccess: () => void;\n}\n\nexport const LandingView = ({ onLoginSuccess }: LandingViewProps) => {\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n\n    // Handle Email Link Sign-in\n    useEffect(() => {\n        if (isSignInWithEmailLink(auth, window.location.href)) {\n            setIsLoading(true);\n            let email = window.localStorage.getItem('emailForSignIn');\n\n            if (!email) {\n                email = window.prompt('Please provide your email for confirmation');\n            }\n\n            if (email) {\n                signInWithEmailLink(auth, email, window.location.href)\n                    .then(async (result) => {\n                        window.localStorage.removeItem('emailForSignIn');\n                        if (result.user) {\n                            await setDoc(doc(db, 'users', result.user.uid), {\n                                uid: result.user.uid,\n                                email: result.user.email,\n                                displayName: result.user.displayName || email?.split('@')[0],\n                                photoURL: result.user.photoURL,\n                                lastLogin: serverTimestamp()\n                            }, { merge: true });\n                        }\n                        onLoginSuccess();\n                    })\n                    .catch((err) => {\n                        console.error(\"Email link sign-in failed:\", err);\n                        setError(err.message);\n                        setIsLoading(false);\n                    });\n            } else {\n                setIsLoading(false);\n                setError(\"Email is required to complete sign-in.\");\n            }\n        }\n    }, [onLoginSuccess]);\n\n    const handleLogin = async () => {\n        setIsLoading(true);\n        setError(null);\n        try {\n            const provider = new GoogleAuthProvider();\n            const result = await signInWithPopup(auth, provider);\n\n            if (result.user) {\n                await setDoc(doc(db, 'users', result.user.uid), {\n                    uid: result.user.uid,\n                    email: result.user.email,\n                    displayName: result.user.displayName,\n                    photoURL: result.user.photoURL,\n                    lastLogin: serverTimestamp()\n                }, { merge: true });\n            }\n\n            onLoginSuccess();\n        } catch (err: any) {\n            console.error(\"Login failed:\", err);\n            if (err.code === 'auth/popup-blocked') {\n                setError(\"Popup blocked! Please allow popups for this site and try again.\");\n            } else if (err.code === 'auth/configuration-not-found') {\n                setError(\"Firebase Authentication is not configured. Please enable Google Sign-In in the Firebase Console.\");\n            } else {\n                setError(err.message || \"Failed to sign in. Please try again.\");\n            }\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen bg-surface\">\n            {/* Navbar */}\n            <nav className=\"fixed top-0 w-full z-50 bg-white/80 backdrop-blur-md border-b border-slate-100\">\n                <div className=\"max-w-7xl mx-auto px-6 h-16 flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2\">\n                        <div className=\"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center\">\n                            <ShoppingCart className=\"text-white\" size={18} />\n                        </div>\n                        <span className=\"font-bold text-xl text-slate-900 tracking-tight\">Pantry<span className=\"text-indigo-600\">2List</span></span>\n                    </div>\n                    <button\n                        onClick={handleLogin}\n                        className=\"text-sm font-bold text-slate-600 hover:text-indigo-600 transition-colors\"\n                    >\n                        Sign In\n                    </button>\n                </div>\n            </nav>\n\n            {/* Hero Section */}\n            <header className=\"relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden\">\n                <div className=\"max-w-7xl mx-auto px-6 grid lg:grid-cols-2 gap-12 items-center\">\n\n                    {/* Left: Copy */}\n                    <div className=\"max-w-2xl relative z-10\">\n                        <div className=\"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-50 text-indigo-700 text-sm font-bold mb-6 border border-indigo-100\">\n                            <Zap size={16} className=\"fill-indigo-700\" />\n                            <span>New: Smart Pantry Tracking</span>\n                        </div>\n\n                        <h1 className=\"text-5xl lg:text-7xl font-extrabold text-slate-900 leading-[1.1] mb-6 tracking-tight\">\n                            Stop buying spread. <br />\n                            <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600\">\n                                Start tracking bread.\n                            </span>\n                        </h1>\n\n                        <p className=\"text-xl text-slate-600 mb-8 leading-relaxed max-w-lg\">\n                            Pantry2List bridges the gap between your shopping list and your kitchen inventory. Never wonder \"Do I have milk?\" again.\n                        </p>\n\n                        <div className=\"flex flex-col sm:flex-row gap-4 mb-4\">\n                            <button\n                                onClick={handleLogin}\n                                disabled={isLoading}\n                                className=\"h-14 px-8 rounded-full bg-slate-900 text-white font-bold text-lg flex items-center justify-center gap-2 hover:bg-slate-800 transition-all shadow-xl shadow-slate-200 active:scale-95\"\n                            >\n                                {isLoading ? <Loader2 className=\"animate-spin\" /> : 'Get Started Free'}\n                                <ArrowRight size={20} />\n                            </button>\n                        </div>\n\n                        {error && (\n                            <p className=\"mt-4 text-red-600 text-sm bg-red-50 py-2 px-4 rounded-lg inline-block\">{error}</p>\n                        )}\n\n                        <div className=\"mt-8 flex items-center gap-4 text-sm text-slate-500 font-medium\">\n                            <div className=\"flex -space-x-2\">\n                                {[1, 2, 3, 4].map(i => (\n                                    <div key={i} className=\"w-8 h-8 rounded-full border-2 border-white bg-slate-200\" />\n                                ))}\n                            </div>\n                            <p>Joined by 1,000+ smart shoppers</p>\n                        </div>\n                    </div>\n\n                    {/* Right: Phone Mockup */}\n                    <div className=\"relative z-0 lg:h-[600px] flex items-center justify-center\">\n                        {/* Decorative Blobs */}\n                        <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-indigo-200 rounded-full blur-3xl opacity-30 animate-pulse\" />\n                        <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] bg-purple-200 rounded-full blur-3xl opacity-30\" />\n\n                        {/* The Mockup */}\n                        <div className=\"relative w-[320px] bg-white rounded-[40px] shadow-2xl border-8 border-slate-900 overflow-hidden transform rotate-[-5deg] hover:rotate-0 transition-transform duration-500 ease-out\">\n                            {/* Notch */}\n                            <div className=\"absolute top-0 left-1/2 -translate-x-1/2 h-6 w-32 bg-slate-900 rounded-b-2xl z-20\" />\n\n                            {/* App Header */}\n                            <div className=\"bg-slate-50 p-6 pt-12 border-b border-slate-100\">\n                                <div className=\"flex justify-between items-center mb-6\">\n                                    <div className=\"flex items-center gap-2 text-slate-900 font-bold text-lg\">\n                                        Hi <span className=\"text-indigo-600\">Srinivas</span>\n                                    </div>\n                                    <div className=\"w-8 h-8 rounded-full bg-slate-900 flex items-center justify-center text-white shadow-lg\">\n                                        <ArrowRight size={16} className=\"rotate-[-45deg]\" />\n                                    </div>\n                                </div>\n                                {/* Fake Tabs */}\n                                <div className=\"flex p-1 bg-slate-200/50 rounded-xl\">\n                                    <div className=\"flex-1 py-2 text-center text-xs font-bold bg-white shadow-sm rounded-lg text-slate-900\">\n                                        Lists\n                                    </div>\n                                    <div className=\"flex-1 py-2 text-center text-xs font-bold text-slate-500\">\n                                        Pantry\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* App Content */}\n                            <div className=\"bg-surface p-4 space-y-3 min-h-[400px]\">\n                                <ListCard\n                                    title=\"Weekly Groceries\"\n                                    itemsCount={12}\n                                    pantryCount={5}\n                                    variant=\"purple\"\n                                    activeTab=\"shopping\"\n                                />\n                                <ListCard\n                                    title=\"Taco Night\"\n                                    itemsCount={4}\n                                    pantryCount={8}\n                                    variant=\"yellow\"\n                                    activeTab=\"shopping\"\n                                />\n                                <ListCard\n                                    title=\"Costco Run\"\n                                    itemsCount={18}\n                                    pantryCount={2}\n                                    variant=\"blue\"\n                                    activeTab=\"shopping\"\n                                />\n                            </div>\n\n                            {/* Floating Action Button */}\n                            <div className=\"absolute bottom-6 right-6 w-14 h-14 bg-slate-900 rounded-full flex items-center justify-center text-white shadow-xl material-fab-shadow\">\n                                <div className=\"w-6 h-6 border-2 border-white rounded-sm\" />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </header>\n\n            {/* Features Section */}\n            <section className=\"py-24 bg-white\">\n                <div className=\"max-w-7xl mx-auto px-6\">\n                    <div className=\"text-center max-w-2xl mx-auto mb-16\">\n                        <h2 className=\"text-3xl font-bold text-slate-900 mb-4\">Everything you need to master your kitchen</h2>\n                        <p className=\"text-slate-500 text-lg\">Managing groceries shouldn't be a chore. We've built the tools to make it effortless.</p>\n                    </div>\n\n                    <div className=\"grid md:grid-cols-3 gap-8\">\n                        <FeatureCard\n                            icon={<Zap className=\"text-amber-500\" />}\n                            title=\"Auto-Replenish\"\n                            description=\"Bought it? It's in your pantry. Used it? It's back on your list. The cycle is seamless.\"\n                        />\n                        <FeatureCard\n                            icon={<ChefHat className=\"text-indigo-500\" />}\n                            title=\"Smart Pantry\"\n                            description=\"Know exactly what you have at home before you buy. Reduce food waste and save money.\"\n                        />\n                        <FeatureCard\n                            icon={<Users className=\"text-emerald-500\" />}\n                            title=\"Collaborative Lists\"\n                            description=\"Plan dinner with your partner or roommates. Changes sync in real-time across all devices.\"\n                        />\n                    </div>\n                </div>\n            </section>\n\n            {/* Footer */}\n            <footer className=\"bg-slate-50 py-12 border-t border-slate-100\">\n                <div className=\"max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6\">\n                    <div className=\"flex items-center gap-2\">\n                        <div className=\"w-8 h-8 bg-slate-900 rounded-lg flex items-center justify-center\">\n                            <ShoppingCart className=\"text-white\" size={18} />\n                        </div>\n                        <span className=\"font-bold text-xl text-slate-900\">Pantry<span className=\"text-indigo-600\">2List</span></span>\n                    </div>\n                    <p className=\"text-slate-400 text-sm\">Â© 2026 Pantry2List. Built for smart shoppers.</p>\n                </div>\n            </footer>\n        </div>\n    );\n};\n\nconst FeatureCard = ({ icon, title, description }: { icon: React.ReactNode, title: string, description: string }) => (\n    <div className=\"p-8 rounded-3xl bg-slate-50 border border-slate-100 hover:bg-white hover:shadow-xl hover:shadow-slate-200/50 hover:border-slate-200 transition-all duration-300\">\n        <div className=\"w-12 h-12 bg-white rounded-2xl shadow-sm flex items-center justify-center mb-6\">\n            {icon}\n        </div>\n        <h3 className=\"text-xl font-bold text-slate-900 mb-3\">{title}</h3>\n        <p className=\"text-slate-500 leading-relaxed\">{description}</p>\n    </div>\n);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 820, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/lib/logic.ts"],"sourcesContent":["import { db } from './firebase';\nimport {\n    collection,\n    addDoc,\n    updateDoc,\n    doc,\n    deleteDoc,\n    increment,\n    query,\n    where,\n    getDocs\n} from 'firebase/firestore';\nimport type { ListItem, PantryItem } from '../types';\n\nexport const moveItemToPantry = async (userId: string, item: ListItem, listName: string) => {\n    try {\n        // 1. Mark as bought in the list\n        const itemRef = doc(db, 'items', item.id);\n        await updateDoc(itemRef, { isBought: true });\n\n        // 2. Add to pantry (deduplicating)\n        const pantryRef = collection(db, 'pantry');\n        const q = query(\n            pantryRef,\n            where('userId', '==', userId),\n            where('sourceListId', '==', item.listId),\n            where('name', '==', item.name)\n        );\n        const snapshot = await getDocs(q);\n\n        if (!snapshot.empty) {\n            // Update existing\n            const existingItem = snapshot.docs[0];\n            await updateDoc(existingItem.ref, {\n                quantity: increment(item.quantity || 1),\n                lastUpdated: Date.now()\n            });\n        } else {\n            // Create new\n            await addDoc(pantryRef, {\n                name: item.name,\n                quantity: item.quantity || 1,\n                unit: item.unit || '',\n                sourceListId: item.listId,\n                sourceListName: listName,\n                lastUpdated: Date.now(),\n                userId: userId\n            });\n        }\n    } catch (error) {\n        console.error(\"Error moving item to pantry:\", error);\n        throw error;\n    }\n};\n\nexport const depleteItemFromPantry = async (userId: string, item: PantryItem, addBackToList: boolean = false) => {\n    try {\n        // 1. Remove from pantry (or decrement)\n        const itemRef = doc(db, 'pantry', item.id);\n        if (item.quantity > 1) {\n            await updateDoc(itemRef, { quantity: increment(-1), lastUpdated: Date.now() });\n        } else {\n            await deleteDoc(itemRef);\n        }\n\n        // 2. Add back to shopping list if requested\n        if (addBackToList) {\n            const listId = item.sourceListId || 'default';\n            const itemsRef = collection(db, 'items');\n\n            // Check if item already exists in the list (unbought)\n            const q = query(\n                itemsRef,\n                where('listId', '==', listId),\n                where('name', '==', item.name),\n                where('isBought', '==', false)\n            );\n            const snapshot = await getDocs(q);\n\n            if (!snapshot.empty) {\n                // Increment existing\n                await updateDoc(snapshot.docs[0].ref, {\n                    quantity: increment(1)\n                });\n            } else {\n                // Create new\n                await addDoc(itemsRef, {\n                    name: item.name,\n                    listId: listId,\n                    isBought: false,\n                    quantity: 1,\n                    addedAt: Date.now(),\n                    userId: userId\n                });\n            }\n        }\n    } catch (error) {\n        console.error(\"Error depleting item from pantry:\", error);\n        throw error;\n    }\n};\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;;;AAaO,MAAM,mBAAmB,OAAO,QAAgB,MAAgB;IACnE,IAAI;QACA,gCAAgC;QAChC,MAAM,UAAU,IAAA,yKAAG,EAAC,+HAAE,EAAE,SAAS,KAAK,EAAE;QACxC,MAAM,IAAA,+KAAS,EAAC,SAAS;YAAE,UAAU;QAAK;QAE1C,mCAAmC;QACnC,MAAM,YAAY,IAAA,gLAAU,EAAC,+HAAE,EAAE;QACjC,MAAM,IAAI,IAAA,2KAAK,EACX,WACA,IAAA,2KAAK,EAAC,UAAU,MAAM,SACtB,IAAA,2KAAK,EAAC,gBAAgB,MAAM,KAAK,MAAM,GACvC,IAAA,2KAAK,EAAC,QAAQ,MAAM,KAAK,IAAI;QAEjC,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;QAE/B,IAAI,CAAC,SAAS,KAAK,EAAE;YACjB,kBAAkB;YAClB,MAAM,eAAe,SAAS,IAAI,CAAC,EAAE;YACrC,MAAM,IAAA,+KAAS,EAAC,aAAa,GAAG,EAAE;gBAC9B,UAAU,IAAA,+KAAS,EAAC,KAAK,QAAQ,IAAI;gBACrC,aAAa,KAAK,GAAG;YACzB;QACJ,OAAO;YACH,aAAa;YACb,MAAM,IAAA,4KAAM,EAAC,WAAW;gBACpB,MAAM,KAAK,IAAI;gBACf,UAAU,KAAK,QAAQ,IAAI;gBAC3B,MAAM,KAAK,IAAI,IAAI;gBACnB,cAAc,KAAK,MAAM;gBACzB,gBAAgB;gBAChB,aAAa,KAAK,GAAG;gBACrB,QAAQ;YACZ;QACJ;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,MAAM;IACV;AACJ;AAEO,MAAM,wBAAwB,OAAO,QAAgB,MAAkB,gBAAyB,KAAK;IACxG,IAAI;QACA,uCAAuC;QACvC,MAAM,UAAU,IAAA,yKAAG,EAAC,+HAAE,EAAE,UAAU,KAAK,EAAE;QACzC,IAAI,KAAK,QAAQ,GAAG,GAAG;YACnB,MAAM,IAAA,+KAAS,EAAC,SAAS;gBAAE,UAAU,IAAA,+KAAS,EAAC,CAAC;gBAAI,aAAa,KAAK,GAAG;YAAG;QAChF,OAAO;YACH,MAAM,IAAA,+KAAS,EAAC;QACpB;QAEA,4CAA4C;QAC5C,IAAI,eAAe;YACf,MAAM,SAAS,KAAK,YAAY,IAAI;YACpC,MAAM,WAAW,IAAA,gLAAU,EAAC,+HAAE,EAAE;YAEhC,sDAAsD;YACtD,MAAM,IAAI,IAAA,2KAAK,EACX,UACA,IAAA,2KAAK,EAAC,UAAU,MAAM,SACtB,IAAA,2KAAK,EAAC,QAAQ,MAAM,KAAK,IAAI,GAC7B,IAAA,2KAAK,EAAC,YAAY,MAAM;YAE5B,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;YAE/B,IAAI,CAAC,SAAS,KAAK,EAAE;gBACjB,qBAAqB;gBACrB,MAAM,IAAA,+KAAS,EAAC,SAAS,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE;oBAClC,UAAU,IAAA,+KAAS,EAAC;gBACxB;YACJ,OAAO;gBACH,aAAa;gBACb,MAAM,IAAA,4KAAM,EAAC,UAAU;oBACnB,MAAM,KAAK,IAAI;oBACf,QAAQ;oBACR,UAAU;oBACV,UAAU;oBACV,SAAS,KAAK,GAAG;oBACjB,QAAQ;gBACZ;YACJ;QACJ;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,qCAAqC;QACnD,MAAM;IACV;AACJ"}},
    {"offset": {"line": 914, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/views/PantryView.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { db } from '../lib/firebase';\nimport { collection, query, where, onSnapshot } from 'firebase/firestore';\nimport type { PantryItem } from '../types';\nimport { Box, Minus, Plus, RefreshCcw, Check } from 'lucide-react';\nimport { depleteItemFromPantry } from '../lib/logic';\nimport { motion, AnimatePresence } from 'framer-motion';\n\ninterface PantryViewProps {\n    userId: string;\n}\n\nexport const PantryView = ({ userId }: PantryViewProps) => {\n    const [items, setItems] = useState<PantryItem[]>([]);\n    const [showPrompt, setShowPrompt] = useState<{ item: PantryItem } | null>(null);\n\n    useEffect(() => {\n        const q = query(collection(db, 'pantry'), where('userId', '==', userId));\n        const unsubscribe = onSnapshot(q, (snapshot) => {\n            setItems(snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as PantryItem)));\n        });\n\n        return () => unsubscribe();\n    }, [userId]);\n\n    // Group items by source list\n    const groupedItems = items.reduce((acc, item) => {\n        const group = item.sourceListName || 'Default';\n        if (!acc[group]) acc[group] = [];\n        acc[group].push(item);\n        return acc;\n    }, {} as Record<string, PantryItem[]>);\n\n    const handleDeplete = async (item: PantryItem) => {\n        if (item.quantity <= 1) {\n            setShowPrompt({ item });\n        } else {\n            await depleteItemFromPantry(userId, item, false);\n        }\n    };\n\n    const confirmDeplete = async (addBack: boolean, specificItem?: PantryItem) => {\n        const itemToProcess = specificItem || showPrompt?.item;\n        if (itemToProcess) {\n            await depleteItemFromPantry(userId, itemToProcess, addBack);\n            setShowPrompt(null);\n        }\n    };\n\n    return (\n        <div className=\"pb-24\">\n            <header className=\"p-6 bg-white shadow-sm sticky top-0 z-10\">\n                <h1 className=\"text-2xl font-bold text-slate-900\">In My Pantry</h1>\n            </header>\n\n            <div className=\"p-4 space-y-8\">\n                {Object.entries(groupedItems).map(([group, groupItems]) => (\n                    <div key={group}>\n                        <h2 className=\"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 ml-1\">{group}</h2>\n                        <div className=\"space-y-2\">\n                            {groupItems.map(item => (\n                                <div key={item.id} className=\"bg-white p-3 rounded-xl shadow-sm border border-slate-100 flex items-center gap-3\">\n                                    {/* Restock Button (Uncheck) */}\n                                    <button\n                                        onClick={() => confirmDeplete(true, item)}\n                                        className=\"w-6 h-6 rounded-full bg-indigo-600 border-2 border-indigo-600 flex items-center justify-center text-white hover:bg-transparent hover:text-transparent transition-all group\"\n                                        title=\"Restock (Move to List)\"\n                                    >\n                                        <div className=\"opacity-100 group-hover:opacity-0 transition-opacity\">\n                                            <Check size={14} />\n                                        </div>\n                                    </button>\n\n                                    <div className=\"flex-1\">\n                                        <h3 className=\"font-semibold text-slate-800 line-through decoration-slate-300 decoration-2\">{item.name}</h3>\n                                        <p className=\"text-xs text-slate-400\">{item.quantity} {item.unit || 'units'}</p>\n                                    </div>\n\n                                    {/* Qty Controls */}\n                                    <div className=\"flex items-center bg-slate-50 rounded-lg p-1\">\n                                        <button\n                                            onClick={() => handleDeplete(item)}\n                                            className=\"w-7 h-7 flex items-center justify-center text-slate-500 hover:bg-white hover:shadow-sm rounded-md transition-all\"\n                                        >\n                                            <Minus size={14} />\n                                        </button>\n                                        <span className=\"w-8 text-center font-bold text-indigo-600 text-sm\">{item.quantity}</span>\n                                        <button\n                                            onClick={() => {/* Implement increment later if needed, or simple update */ }}\n                                            className=\"w-7 h-7 flex items-center justify-center text-slate-500 hover:bg-white hover:shadow-sm rounded-md transition-all opacity-50 cursor-not-allowed\"\n                                        >\n                                            <Plus size={14} />\n                                        </button>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                ))}\n\n                {items.length === 0 && (\n                    <div className=\"text-center py-20 text-slate-400\">\n                        <Box size={48} className=\"mx-auto mb-4 opacity-20\" />\n                        <p>Your pantry is empty.<br />Go shopping to stock up!</p>\n                    </div>\n                )}\n            </div>\n\n            {/* Depletion Prompt Modal */}\n            <AnimatePresence>\n                {showPrompt && (\n                    <div className=\"fixed inset-0 z-[100] flex items-end justify-center p-4 bg-black/40 backdrop-blur-sm\">\n                        <motion.div\n                            initial={{ translateY: \"100%\" }}\n                            animate={{ translateY: 0 }}\n                            exit={{ translateY: \"100%\" }}\n                            className=\"bg-white w-full max-w-md rounded-2xl p-6 shadow-2xl\"\n                        >\n                            <h3 className=\"text-xl font-bold text-slate-900 mb-2\">Used up {showPrompt.item.name}?</h3>\n                            <p className=\"text-slate-500 mb-6\">Would you like to add this back to your shopping list?</p>\n\n                            <div className=\"space-y-3\">\n                                <button\n                                    onClick={() => confirmDeplete(true)}\n                                    className=\"w-full bg-indigo-600 text-white py-4 rounded-xl font-bold flex items-center justify-center space-x-2 shadow-lg\"\n                                >\n                                    <RefreshCcw size={20} />\n                                    <span>Yes, add back to list</span>\n                                </button>\n                                <button\n                                    onClick={() => confirmDeplete(false)}\n                                    className=\"w-full bg-slate-100 text-slate-700 py-4 rounded-xl font-bold\"\n                                >\n                                    No, just remove\n                                </button>\n                                <button\n                                    onClick={() => setShowPrompt(null)}\n                                    className=\"w-full py-2 text-slate-400 font-medium\"\n                                >\n                                    Cancel\n                                </button>\n                            </div>\n                        </motion.div>\n                    </div>\n                )}\n            </AnimatePresence>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1296, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/views/WaitApprovalView.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { Clock, LogOut } from 'lucide-react';\n\ninterface WaitApprovalViewProps {\n    onLogout: () => void;\n    email?: string | null;\n}\n\nexport function WaitApprovalView({ onLogout, email }: WaitApprovalViewProps) {\n    return (\n        <div className=\"min-h-screen flex items-center justify-center bg-surface p-6\">\n            <div className=\"max-w-md w-full text-center\">\n                <div className=\"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse\">\n                    <Clock className=\"text-primary\" size={40} />\n                </div>\n\n                <h1 className=\"text-3xl font-bold text-on-surface mb-4\">Account Pending</h1>\n\n                <p className=\"text-slate-500 text-lg mb-8 leading-relaxed\">\n                    Thanks for signing up{email ? `, ${email}` : ''}!\n                    <br />\n                    Your account is currently waiting for administrator approval.\n                    You will be granted access once an admin reviews your request.\n                </p>\n\n                <div className=\"bg-surface-variant/50 border border-border p-4 rounded-xl mb-8 text-sm text-slate-500\">\n                    Please contact the administrator if you believe this is an error or if you need immediate access.\n                </div>\n\n                <button\n                    onClick={onLogout}\n                    className=\"w-full bg-slate-900 hover:bg-slate-800 text-white py-3.5 rounded-xl font-bold transition-all flex items-center justify-center gap-2 shadow-lg shadow-slate-900/20\"\n                >\n                    <LogOut size={20} />\n                    Sign Out\n                </button>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;;;AAOO,SAAS,iBAAiB,EAAE,QAAQ,EAAE,KAAK,EAAyB;IACvE,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC,gNAAK;wBAAC,WAAU;wBAAe,MAAM;;;;;;;;;;;8BAG1C,6LAAC;oBAAG,WAAU;8BAA0C;;;;;;8BAExD,6LAAC;oBAAE,WAAU;;wBAA8C;wBACjC,QAAQ,CAAC,EAAE,EAAE,OAAO,GAAG;wBAAG;sCAChD,6LAAC;;;;;wBAAK;;;;;;;8BAKV,6LAAC;oBAAI,WAAU;8BAAwF;;;;;;8BAIvG,6LAAC;oBACG,SAAS;oBACT,WAAU;;sCAEV,6LAAC,uNAAM;4BAAC,MAAM;;;;;;wBAAM;;;;;;;;;;;;;;;;;;AAMxC;KA/BgB"}},
    {"offset": {"line": 1403, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/assets/guide-create.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 1024, height: 1024, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAIAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD0yayS4u2MqbkIAP7xh+nSrTsLZ3P/2Q==\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,qJAAG;IAAE,OAAO;IAAM,QAAQ;IAAM,WAAW;IAAG,YAAY;IAAG,aAAa;AAAy3B"}},
    {"offset": {"line": 1427, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/assets/guide-add.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 1024, height: 1024, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAIAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwCkI7U/AbYHg+0bdxyVz/rc4z1z7VdvdIvqf//Z\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,kJAAG;IAAE,OAAO;IAAM,QAAQ;IAAM,WAAW;IAAG,YAAY;IAAG,aAAa;AAA63B"}},
    {"offset": {"line": 1451, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/assets/guide-pantry.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 1024, height: 1024, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAIAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD1sxsSCRwD2bHGKznFuSfbzt/w409D/9k=\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,qJAAG;IAAE,OAAO;IAAM,QAAQ;IAAM,WAAW;IAAG,YAAY;IAAG,aAAa;AAAy3B"}},
    {"offset": {"line": 1475, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/assets/guide-invite.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 1024, height: 1024, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAIAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD1jZzv2pn1zzQI/9k=\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,qJAAG;IAAE,OAAO;IAAM,QAAQ;IAAM,WAAW;IAAG,YAAY;IAAG,aAAa;AAAy2B"}},
    {"offset": {"line": 1499, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/assets/guide-restock.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 1024, height: 1024, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAIAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD1T7Jatqv2nO25zgfMc4x6fShgrH//2Q==\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,sJAAG;IAAE,OAAO;IAAM,QAAQ;IAAM,WAAW;IAAG,YAAY;IAAG,aAAa;AAAy3B"}},
    {"offset": {"line": 1520, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/views/HelpView.tsx"],"sourcesContent":["import { ArrowLeft } from 'lucide-react';\nimport Image from 'next/image';\nimport guideCreate from '../assets/guide-create.png';\nimport guideAdd from '../assets/guide-add.png';\nimport guidePantry from '../assets/guide-pantry.png';\nimport guideInvite from '../assets/guide-invite.png';\nimport guideRestock from '../assets/guide-restock.png';\n\ninterface HelpViewProps {\n    onBack: () => void;\n}\n\nexport const HelpView = ({ onBack }: HelpViewProps) => {\n    const guides = [\n        {\n            title: \"Creating a List\",\n            description: \"Tap the + button in the top right to start a new shopping list. Give it a name and it will appear in your main view.\",\n            image: guideCreate,\n            color: \"bg-purple-100 text-purple-900\"\n        },\n        {\n            title: \"Adding Items\",\n            description: \"Tap on any list to expand it. Type in the bottom bar to add items quickly. They will appear at the top of your list.\",\n            image: guideAdd,\n            color: \"bg-blue-100 text-blue-900\"\n        },\n        {\n            title: \"Managing Pantry\",\n            description: \"Switch between 'Shopping' and 'Pantry' tabs. Checked items from your shopping list can be moved directly to your pantry to keep track of what you have at home.\",\n            image: guidePantry,\n            color: \"bg-yellow-100 text-yellow-900\"\n        },\n        {\n            title: \"Inviting Collaborators\",\n            description: \"Share your lists with family or roommates. Go to the menu, select 'Manage Collaborators', and invite them by email.\",\n            image: guideInvite,\n            color: \"bg-green-100 text-green-900\"\n        },\n        {\n            title: \"Restocking & Consuming\",\n            description: \"In your pantry, use the '+' button to quickly add an item back to your shopping list. Use the '-' button to decrease the quantity as you use items.\",\n            image: guideRestock,\n            color: \"bg-orange-100 text-orange-900\"\n        }\n    ];\n\n    return (\n        <div className=\"min-h-screen bg-surface pb-24\">\n            {/* Header */}\n            <div className=\"sticky top-0 z-10 bg-surface/80 backdrop-blur-md border-b border-slate-200 px-6 py-4 flex items-center gap-4\">\n                <button\n                    onClick={onBack}\n                    className=\"p-2 -ml-2 rounded-full hover:bg-slate-100 transition-colors\"\n                >\n                    <ArrowLeft size={24} className=\"text-slate-700\" />\n                </button>\n                <h1 className=\"text-2xl font-bold text-slate-900\">Help & Guides</h1>\n            </div>\n\n            <div className=\"px-6 py-6 max-w-2xl mx-auto space-y-12\">\n                {guides.map((guide, index) => (\n                    <section key={index} className=\"space-y-4\">\n                        <div className={`rounded-2xl overflow-hidden shadow-sm border border-slate-100 ${guide.color}`}>\n                            <div className=\"aspect-video w-full bg-white/50 relative\">\n                                <Image\n                                    src={guide.image}\n                                    alt={guide.title}\n                                    className=\"object-contain p-4\"\n                                    fill\n                                />\n                            </div>\n                            <div className=\"p-6\">\n                                <h2 className=\"text-xl font-bold mb-2\">{guide.title}</h2>\n                                <p className=\"opacity-90 leading-relaxed\">\n                                    {guide.description}\n                                </p>\n                            </div>\n                        </div>\n                    </section>\n                ))}\n\n\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAMO,MAAM,WAAW,CAAC,EAAE,MAAM,EAAiB;IAC9C,MAAM,SAAS;QACX;YACI,OAAO;YACP,aAAa;YACb,OAAO,gVAAW;YAClB,OAAO;QACX;QACA;YACI,OAAO;YACP,aAAa;YACb,OAAO,0UAAQ;YACf,OAAO;QACX;QACA;YACI,OAAO;YACP,aAAa;YACb,OAAO,gVAAW;YAClB,OAAO;QACX;QACA;YACI,OAAO;YACP,aAAa;YACb,OAAO,gVAAW;YAClB,OAAO;QACX;QACA;YACI,OAAO;YACP,aAAa;YACb,OAAO,kVAAY;YACnB,OAAO;QACX;KACH;IAED,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,SAAS;wBACT,WAAU;kCAEV,cAAA,6LAAC,gOAAS;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;;kCAEnC,6LAAC;wBAAG,WAAU;kCAAoC;;;;;;;;;;;;0BAGtD,6LAAC;gBAAI,WAAU;0BACV,OAAO,GAAG,CAAC,CAAC,OAAO,sBAChB,6LAAC;wBAAoB,WAAU;kCAC3B,cAAA,6LAAC;4BAAI,WAAW,CAAC,8DAA8D,EAAE,MAAM,KAAK,EAAE;;8CAC1F,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC,2IAAK;wCACF,KAAK,MAAM,KAAK;wCAChB,KAAK,MAAM,KAAK;wCAChB,WAAU;wCACV,IAAI;;;;;;;;;;;8CAGZ,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAG,WAAU;sDAA0B,MAAM,KAAK;;;;;;sDACnD,6LAAC;4CAAE,WAAU;sDACR,MAAM,WAAW;;;;;;;;;;;;;;;;;;uBAbpB;;;;;;;;;;;;;;;;AAwBlC;KAzEa"}},
    {"offset": {"line": 1691, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/views/CalendarView.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { db } from '../lib/firebase';\nimport { collection, query, where, onSnapshot, addDoc, deleteDoc, doc, orderBy } from 'firebase/firestore';\nimport { Calendar as CalendarIcon, Clock, Plus, Trash2, ArrowLeft } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\ninterface Event {\n    id: string;\n    title: string;\n    date: string; // ISO string\n    type: 'one-time' | 'recurring';\n    created_by: string;\n}\n\ninterface CalendarViewProps {\n    userId: string;\n    onBack: () => void;\n}\n\nexport const CalendarView = ({ userId, onBack }: CalendarViewProps) => {\n    const [events, setEvents] = useState<Event[]>([]);\n    const [isAdding, setIsAdding] = useState(false);\n    const [newEventTitle, setNewEventTitle] = useState('');\n    const [newEventDate, setNewEventDate] = useState('');\n\n    useEffect(() => {\n        // Query events created by user OR shared (collaborations logic needed ideally)\n        // For simple v1: fetch all where created_by == userId\n        const q = query(\n            collection(db, 'family_schedule'),\n            where('created_by', '==', userId)\n            // orderBy('date', 'asc') // Requires composite index usually, can sort client side\n        );\n\n        const unsubscribe = onSnapshot(q, (snapshot) => {\n            const fetchedEvents = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Event));\n            // Sort by date ascending\n            fetchedEvents.sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\n            setEvents(fetchedEvents);\n        });\n\n        return () => unsubscribe();\n    }, [userId]);\n\n    const handleAddEvent = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!newEventTitle.trim() || !newEventDate) return;\n\n        await addDoc(collection(db, 'family_schedule'), {\n            title: newEventTitle,\n            date: new Date(newEventDate).toISOString(),\n            type: 'one-time',\n            created_by: userId,\n            created_at: new Date().toISOString()\n        });\n\n        setNewEventTitle('');\n        setNewEventDate('');\n        setIsAdding(false);\n    };\n\n    const handleDeleteEvent = async (eventId: string) => {\n        if (window.confirm(\"Delete this event?\")) {\n            await deleteDoc(doc(db, 'family_schedule', eventId));\n        }\n    };\n\n    // Group by date for display\n    const groupedEvents = events.reduce((acc, event) => {\n        const dateKey = new Date(event.date).toLocaleDateString(undefined, { weekday: 'short', month: 'short', day: 'numeric' });\n        if (!acc[dateKey]) acc[dateKey] = [];\n        acc[dateKey].push(event);\n        return acc;\n    }, {} as Record<string, Event[]>);\n\n    return (\n        <div className=\"pb-24 px-6 pt-12 max-w-md mx-auto min-h-screen bg-surface\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between mb-8\">\n                <button\n                    onClick={onBack}\n                    className=\"p-2 -ml-2 text-slate-400 hover:text-slate-800 transition-colors\"\n                >\n                    <ArrowLeft size={24} />\n                </button>\n                <h1 className=\"text-2xl font-bold text-slate-900 flex items-center gap-2\">\n                    <CalendarIcon className=\"text-indigo-600\" />\n                    Family Calendar\n                </h1>\n                <button\n                    onClick={() => setIsAdding(true)}\n                    className=\"w-10 h-10 rounded-full bg-indigo-600 text-white flex items-center justify-center hover:bg-indigo-700 transition-colors shadow-lg\"\n                >\n                    <Plus size={24} />\n                </button>\n            </div>\n\n            {/* Add Event Form */}\n            <AnimatePresence>\n                {isAdding && (\n                    <motion.div\n                        initial={{ height: 0, opacity: 0 }}\n                        animate={{ height: 'auto', opacity: 1 }}\n                        exit={{ height: 0, opacity: 0 }}\n                        className=\"overflow-hidden mb-6\"\n                    >\n                        <form onSubmit={handleAddEvent} className=\"bg-white p-4 rounded-xl shadow-sm border border-indigo-100 space-y-3\">\n                            <input\n                                autoFocus\n                                type=\"text\"\n                                placeholder=\"Event Title (e.g. Dentist Appt)\"\n                                className=\"w-full p-2 border-b border-slate-200 focus:outline-none focus:border-indigo-500 font-medium\"\n                                value={newEventTitle}\n                                onChange={e => setNewEventTitle(e.target.value)}\n                            />\n                            <div className=\"flex gap-2\">\n                                <input\n                                    type=\"datetime-local\"\n                                    className=\"flex-1 p-2 bg-slate-50 rounded-lg text-sm text-slate-600 focus:ring-1 focus:ring-indigo-200 outline-none\"\n                                    value={newEventDate}\n                                    onChange={e => setNewEventDate(e.target.value)}\n                                />\n                            </div>\n                            <div className=\"flex justify-end gap-2 pt-2\">\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setIsAdding(false)}\n                                    className=\"px-3 py-1.5 text-sm text-slate-500 hover:bg-slate-50 rounded-lg\"\n                                >\n                                    Cancel\n                                </button>\n                                <button\n                                    type=\"submit\"\n                                    className=\"px-3 py-1.5 text-sm bg-indigo-600 text-white rounded-lg font-semibold\"\n                                >\n                                    Add Event\n                                </button>\n                            </div>\n                        </form>\n                    </motion.div>\n                )}\n            </AnimatePresence>\n\n            {/* Events List */}\n            <div className=\"space-y-6\">\n                {Object.entries(groupedEvents).map(([date, dayEvents]) => (\n                    <div key={date}>\n                        <h2 className=\"text-sm font-bold text-slate-400 uppercase tracking-widest mb-3 sticky top-0 bg-surface py-2 z-10\">\n                            {date}\n                        </h2>\n                        <div className=\"space-y-3\">\n                            {dayEvents.map(event => (\n                                <motion.div\n                                    key={event.id}\n                                    initial={{ opacity: 0, y: 10 }}\n                                    animate={{ opacity: 1, y: 0 }}\n                                    className=\"bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex items-center justify-between group\"\n                                >\n                                    <div className=\"flex items-start gap-3\">\n                                        <div className=\"mt-1 p-2 bg-indigo-50 text-indigo-600 rounded-lg\">\n                                            <Clock size={16} />\n                                        </div>\n                                        <div>\n                                            <h3 className=\"font-semibold text-slate-800\">{event.title}</h3>\n                                            <p className=\"text-sm text-slate-500\">\n                                                {new Date(event.date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                                            </p>\n                                        </div>\n                                    </div>\n                                    <button\n                                        onClick={() => handleDeleteEvent(event.id)}\n                                        className=\"text-slate-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100\"\n                                    >\n                                        <Trash2 size={18} />\n                                    </button>\n                                </motion.div>\n                            ))}\n                        </div>\n                    </div>\n                ))}\n\n                {events.length === 0 && !isAdding && (\n                    <div className=\"text-center py-20 text-slate-400\">\n                        <CalendarIcon size={48} className=\"mx-auto mb-4 opacity-20\" />\n                        <p>No upcoming events.<br />Enjoy your free time!</p>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2092, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/components/Sidebar.tsx"],"sourcesContent":["import {\n    Calendar,\n    List,\n    Inbox,\n    Sun,\n    CalendarDays,\n    Trash2,\n    ChevronDown,\n    ChevronRight,\n    Plus,\n    ShoppingBasket,\n    HelpCircle\n} from 'lucide-react';\nimport { useState, useMemo } from 'react';\nimport { useCollection } from 'react-firebase-hooks/firestore';\nimport { query, collection, where } from 'firebase/firestore';\nimport { db } from '../lib/firebase';\nimport type { ShoppingList } from '../types';\n\ninterface SidebarProps {\n    currentView: string;\n    onNavigate: (view: string) => void;\n    onLogout: () => void;\n    userEmail?: string | null;\n    userId?: string;\n    compact?: boolean;\n}\n\nexport const Sidebar = ({ currentView, onNavigate, onLogout, userEmail, userId, compact }: SidebarProps) => {\n    const [listsExpanded, setListsExpanded] = useState(true);\n\n    // --- Data Fetching ---\n\n    // 1. Collaborations\n    const [collabSnapshotUID] = useCollection(\n        userId ? query(collection(db, 'collaborations'), where('inviteeId', '==', userId)) : null\n    );\n    const [collabSnapshotEmail] = useCollection(\n        userEmail ? query(collection(db, 'collaborations'), where('inviteeEmail', '==', userEmail)) : null\n    );\n\n    const allowedUserIds = useMemo(() => {\n        if (!userId) return [];\n        const idsFromUID = collabSnapshotUID?.docs.map(d => d.data().inviterId) || [];\n        const idsFromEmail = collabSnapshotEmail?.docs.map(d => d.data().inviterId) || [];\n        // Unique IDs, max 30 for Firestore 'in' query\n        return [...new Set([userId, ...idsFromUID, ...idsFromEmail])].slice(0, 30);\n    }, [collabSnapshotUID, collabSnapshotEmail, userId]);\n\n    // 2. Lists\n    const listQuery = useMemo(() =>\n        allowedUserIds.length > 0\n            ? query(collection(db, 'lists'), where('userId', 'in', allowedUserIds))\n            : null\n        , [allowedUserIds]);\n\n    const [listsSnapshot] = useCollection(listQuery);\n\n    const lists = useMemo(() =>\n        listsSnapshot?.docs.map(d => ({ id: d.id, ...d.data() } as ShoppingList)) || [],\n        [listsSnapshot]);\n\n    const smartLists = [\n        { id: 'inbox', label: 'Inbox', icon: Inbox, color: 'text-blue-500' },\n        { id: 'today', label: 'Today', icon: Sun, color: 'text-yellow-500' },\n        { id: 'next7days', label: 'Next 7 Days', icon: CalendarDays, color: 'text-purple-500' },\n    ];\n\n    const NavItem = ({ id, label, icon: Icon, color, count }: any) => (\n        <button\n            onClick={() => onNavigate(id)}\n            className={`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors mb-0.5\n                ${currentView === id\n                    ? 'bg-blue-100/50 text-blue-700'\n                    : 'text-slate-700 hover:bg-slate-100'\n                }`}\n        >\n            <Icon size={18} className={color} />\n            <span className=\"flex-1 text-left truncate\">{label}</span>\n            {count > 0 && (\n                <span className=\"text-xs text-slate-400 font-medium\">{count}</span>\n            )}\n        </button>\n    );\n\n    return (\n        <aside className=\"h-full flex flex-col py-4 px-2 overflow-y-auto bg-slate-50\">\n            {/* Smart Lists */}\n            <div className=\"mb-6\">\n                {smartLists.map(list => (\n                    <NavItem key={list.id} {...list} />\n                ))}\n            </div>\n\n            {/* Lists Section */}\n            <div className=\"mb-2\">\n                <div\n                    className=\"flex items-center justify-between px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider cursor-pointer hover:text-slate-600 transition-colors group\"\n                    onClick={() => setListsExpanded(!listsExpanded)}\n                >\n                    <div className=\"flex items-center gap-1\">\n                        {listsExpanded ? <ChevronDown size={14} /> : <ChevronRight size={14} />}\n                        <span>Lists</span>\n                    </div>\n                </div>\n\n                {listsExpanded && (\n                    <div className=\"mt-1\">\n                        {lists.length === 0 ? (\n                            <p className=\"px-3 py-2 text-sm text-slate-400 italic\">No lists yet</p>\n                        ) : (\n                            lists.map(list => (\n                                <NavItem\n                                    key={list.id}\n                                    id={list.id}\n                                    label={list.name}\n                                    icon={List}\n                                    color=\"text-slate-400\"\n                                />\n                            ))\n                        )}\n                    </div>\n                )}\n            </div>\n\n            <div className=\"mt-auto pt-4 border-t border-slate-200\">\n                <NavItem id=\"pantry\" label=\"Pantry\" icon={ShoppingBasket} color=\"text-green-600\" />\n                <NavItem id=\"calendar\" label=\"Calendar\" icon={Calendar} color=\"text-pink-500\" />\n                <NavItem id=\"help\" label=\"Help\" icon={HelpCircle} color=\"text-slate-400\" />\n            </div>\n\n        </aside>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2370, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/views/AdminApprovalView.tsx"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport { X, Check, Search, Shield, User } from 'lucide-react';\nimport { collection, query, where, getDocs, updateDoc, doc } from 'firebase/firestore';\nimport { db } from '../lib/firebase';\nimport { UserProfile } from '../types';\n\ninterface AdminApprovalViewProps {\n    onClose: () => void;\n}\n\nexport function AdminApprovalView({ onClose }: AdminApprovalViewProps) {\n    const [pendingUsers, setPendingUsers] = useState<UserProfile[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        fetchPendingUsers();\n    }, []);\n\n    const fetchPendingUsers = async () => {\n        try {\n            setLoading(true);\n            // Fetch users where isApproved is false or missing\n            const q = query(collection(db, 'users'), where('isApproved', '==', false));\n            const querySnapshot = await getDocs(q);\n\n            const users: UserProfile[] = [];\n            querySnapshot.forEach((doc) => {\n                users.push({ uid: doc.id, ...doc.data() } as UserProfile);\n            });\n\n            setPendingUsers(users);\n        } catch (error) {\n            console.error(\"Error fetching pending users:\", error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleApprove = async (userId: string) => {\n        try {\n            await updateDoc(doc(db, 'users', userId), {\n                isApproved: true\n            });\n            // Remove from local state\n            setPendingUsers(prev => prev.filter(u => u.uid !== userId));\n        } catch (error) {\n            console.error(\"Error approving user:\", error);\n            alert(\"Failed to approve user\");\n        }\n    };\n\n    const handleDecline = async (userId: string) => {\n        // Requirements say: \"decline should just not enable access\" - effectively doing nothing for now, \n        // potentially we could delete the user or mark as declined, but for now we'll just leave them in the list or maybe mark explicitly declined?\n        // Request says: \"check should enable access and cross should decline their access ... for now, decline should just not enable access\"\n        // So functionally, doing nothing on the backend is \"not enabling\".\n        // But to give feedback to the admin, maybe we should just remove them from the list? \n        // Or perhaps toggling 'isApproved: false' explicitly if it was undefined?\n        // Let's just alert for now since the requirement is vague on state change for decline.\n        // Actually, \"decline should just not enable access\" implies no change needed, but maybe we want to hide them from this list?\n        // I'll leave them there for now pending clarification, or just log it.\n        console.log(\"Decline logic clicked for\", userId);\n        // User requested: \"check should enable access and cross should decline their access\"\n        // \"we will implement decline flow later but for now, decline should just not enable access\"\n        // This implies that clicking X might just do nothing, or maybe close the row? \n        // I'll make it do nothing but maybe show a toast or something.\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200\">\n            <div className=\"bg-surface rounded-2xl w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200\">\n                <div className=\"p-6 border-b border-border flex items-center justify-between bg-surface-variant/30\">\n                    <div className=\"flex items-center gap-3\">\n                        <div className=\"p-2 bg-primary/10 rounded-lg\">\n                            <Shield className=\"text-primary\" size={24} />\n                        </div>\n                        <div>\n                            <h2 className=\"text-xl font-bold text-on-surface\">Approve Users</h2>\n                            <p className=\"text-sm text-slate-500\">Manage pending access requests</p>\n                        </div>\n                    </div>\n                    <button\n                        onClick={onClose}\n                        className=\"p-2 hover:bg-black/5 rounded-full transition-colors text-slate-500\"\n                    >\n                        <X size={24} />\n                    </button>\n                </div>\n\n                <div className=\"p-0 max-h-[60vh] overflow-y-auto\">\n                    {loading ? (\n                        <div className=\"p-12 text-center text-slate-500\">Loading requests...</div>\n                    ) : pendingUsers.length === 0 ? (\n                        <div className=\"p-12 text-center\">\n                            <div className=\"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                                <User className=\"text-slate-300\" size={32} />\n                            </div>\n                            <p className=\"text-slate-500 font-medium\">No pending user requests</p>\n                            <p className=\"text-sm text-slate-400 mt-1\">New signups will appear here</p>\n                        </div>\n                    ) : (\n                        <div className=\"divide-y divide-border\">\n                            {pendingUsers.map((user) => (\n                                <div key={user.uid} className=\"flex items-center justify-between p-4 hover:bg-black/[0.02] transition-colors\">\n                                    <div className=\"flex items-center gap-4\">\n                                        <div className=\"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-lg\">\n                                            {user.displayName ? user.displayName[0].toUpperCase() : (user.email ? user.email[0].toUpperCase() : '?')}\n                                        </div>\n                                        <div>\n                                            <h3 className=\"font-semibold text-slate-800\">{user.displayName || 'Unnamed User'}</h3>\n                                            <p className=\"text-sm text-slate-500\">{user.email}</p>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"flex items-center gap-2\">\n                                        <button\n                                            onClick={() => handleDecline(user.uid)}\n                                            className=\"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors\"\n                                            title=\"Decline Access\"\n                                        >\n                                            <X size={20} />\n                                        </button>\n                                        <button\n                                            onClick={() => handleApprove(user.uid)}\n                                            className=\"p-2 text-primary hover:bg-primary/10 rounded-lg transition-colors border border-transparent hover:border-primary/20\"\n                                            title=\"Approve Access\"\n                                        >\n                                            <Check size={20} className=\"stroke-[3]\" />\n                                        </button>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n\n                <div className=\"p-4 bg-surface-variant/30 border-t border-border text-center text-xs text-slate-400\">\n                    Showing {pendingUsers.length} pending request{pendingUsers.length !== 1 ? 's' : ''}\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2711, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/views/CollaboratorsView.tsx"],"sourcesContent":["import { X, Trash2, Users } from 'lucide-react';\nimport { collection, query, where, deleteDoc, doc } from 'firebase/firestore';\nimport { useCollection } from 'react-firebase-hooks/firestore';\nimport { db } from '../lib/firebase';\n\ninterface CollaboratorsViewProps {\n    userId: string;\n    onClose: () => void;\n}\n\nexport const CollaboratorsView = ({ userId, onClose }: CollaboratorsViewProps) => {\n    // Fetch collaborations where I am the inviter\n    const [collaborationsSnapshot, loading, error] = useCollection(\n        query(collection(db, 'collaborations'), where('inviterId', '==', userId))\n    );\n\n    const handleRemoveCollaborator = async (collabId: string) => {\n        if (!confirm('Are you sure you want to remove this collaborator? They will lose access to your lists.')) return;\n        try {\n            await deleteDoc(doc(db, 'collaborations', collabId));\n        } catch (error) {\n            console.error(\"Error removing collaborator:\", error);\n            alert(\"Failed to remove collaborator.\");\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm animate-in fade-in duration-200\">\n            <div className=\"bg-white rounded-2xl material-shadow-3 w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200\">\n                {/* Header */}\n                <div className=\"px-6 py-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50\">\n                    <h2 className=\"text-xl font-display font-bold text-slate-900 flex items-center gap-2\">\n                        <Users className=\"text-primary\" />\n                        Manage Collaborators\n                    </h2>\n                    <button\n                        onClick={onClose}\n                        className=\"w-8 h-8 flex items-center justify-center text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100 transition-colors\"\n                    >\n                        <X size={20} />\n                    </button>\n                </div>\n\n                {/* Content */}\n                <div className=\"p-6 max-h-[60vh] overflow-y-auto\">\n                    {loading && (\n                        <div className=\"text-center py-8 text-slate-500\">\n                            Loading...\n                        </div>\n                    )}\n\n                    {error && (\n                        <div className=\"p-4 bg-red-50 text-red-600 rounded-xl text-sm font-medium\">\n                            Failed to load collaborators.\n                        </div>\n                    )}\n\n                    {!loading && !error && collaborationsSnapshot?.empty && (\n                        <div className=\"text-center py-8\">\n                            <div className=\"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-3 text-slate-300\">\n                                <Users size={32} />\n                            </div>\n                            <p className=\"text-slate-500 font-medium\">No active collaborators</p>\n                            <p className=\"text-xs text-slate-400 mt-1\">Invite people from the user menu to get started.</p>\n                        </div>\n                    )}\n\n                    <div className=\"space-y-2\">\n                        {collaborationsSnapshot?.docs.map(doc => {\n                            const data = doc.data();\n                            return (\n                                <div key={doc.id} className=\"flex items-center justify-between p-3 rounded-xl bg-slate-50 border border-slate-100 group hover:border-slate-200 transition-colors\">\n                                    <div className=\"min-w-0\">\n                                        <p className=\"text-sm font-semibold text-slate-700 truncate\">\n                                            {data.inviteeEmail || 'Unknown User'}\n                                        </p>\n                                        <p className=\"text-xs text-slate-400\">\n                                            Added {new Date(data.createdAt).toLocaleDateString()}\n                                        </p>\n                                    </div>\n                                    <button\n                                        onClick={() => handleRemoveCollaborator(doc.id)}\n                                        className=\"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all\"\n                                        title=\"Revoke Access\"\n                                    >\n                                        <Trash2 size={18} />\n                                    </button>\n                                </div>\n                            );\n                        })}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;;;;;;;AAOO,MAAM,oBAAoB,CAAC,EAAE,MAAM,EAAE,OAAO,EAA0B;;IACzE,8CAA8C;IAC9C,MAAM,CAAC,wBAAwB,SAAS,MAAM,GAAG,IAAA,mMAAa,EAC1D,IAAA,2KAAK,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,mBAAmB,IAAA,2KAAK,EAAC,aAAa,MAAM;IAGrE,MAAM,2BAA2B,OAAO;QACpC,IAAI,CAAC,QAAQ,4FAA4F;QACzG,IAAI;YACA,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,kBAAkB;QAC9C,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,MAAM;QACV;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;;8BAEX,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAG,WAAU;;8CACV,6LAAC,gNAAK;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;sCAGtC,6LAAC;4BACG,SAAS;4BACT,WAAU;sCAEV,cAAA,6LAAC,oMAAC;gCAAC,MAAM;;;;;;;;;;;;;;;;;8BAKjB,6LAAC;oBAAI,WAAU;;wBACV,yBACG,6LAAC;4BAAI,WAAU;sCAAkC;;;;;;wBAKpD,uBACG,6LAAC;4BAAI,WAAU;sCAA4D;;;;;;wBAK9E,CAAC,WAAW,CAAC,SAAS,wBAAwB,uBAC3C,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC,gNAAK;wCAAC,MAAM;;;;;;;;;;;8CAEjB,6LAAC;oCAAE,WAAU;8CAA6B;;;;;;8CAC1C,6LAAC;oCAAE,WAAU;8CAA8B;;;;;;;;;;;;sCAInD,6LAAC;4BAAI,WAAU;sCACV,wBAAwB,KAAK,IAAI,CAAA;gCAC9B,MAAM,OAAO,IAAI,IAAI;gCACrB,qBACI,6LAAC;oCAAiB,WAAU;;sDACxB,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;oDAAE,WAAU;8DACR,KAAK,YAAY,IAAI;;;;;;8DAE1B,6LAAC;oDAAE,WAAU;;wDAAyB;wDAC3B,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB;;;;;;;;;;;;;sDAG1D,6LAAC;4CACG,SAAS,IAAM,yBAAyB,IAAI,EAAE;4CAC9C,WAAU;4CACV,OAAM;sDAEN,cAAA,6LAAC,uNAAM;gDAAC,MAAM;;;;;;;;;;;;mCAdZ,IAAI,EAAE;;;;;4BAkBxB;;;;;;;;;;;;;;;;;;;;;;;AAMxB;GArFa;;QAEwC,mMAAa;;;KAFrD"}},
    {"offset": {"line": 2942, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/components/UserMenu.tsx"],"sourcesContent":["import { useState, useRef, useEffect } from 'react';\nimport { LogOut, UserPlus, Check, X, Users, Shield } from 'lucide-react';\nimport { clsx } from 'clsx';\nimport { doc, setDoc } from 'firebase/firestore';\nimport { auth, db } from '../lib/firebase';\nimport { AdminApprovalView } from '../views/AdminApprovalView';\nimport { CollaboratorsView } from '../views/CollaboratorsView';\n\ninterface UserMenuProps {\n    userName?: string | null;\n    userId: string;\n    isAdmin?: boolean;\n    onLogout: () => void;\n}\n\nexport const UserMenu = ({ userName, userId, isAdmin, onLogout }: UserMenuProps) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [showAdminApproval, setShowAdminApproval] = useState(false);\n    const [showCollaborators, setShowCollaborators] = useState(false);\n    const [isInviting, setIsInviting] = useState(false);\n    const [inviteEmail, setInviteEmail] = useState('');\n    const menuRef = useRef<HTMLDivElement>(null);\n\n    // Close on click outside\n    useEffect(() => {\n        const handleClickOutside = (event: MouseEvent) => {\n            if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n                setIsOpen(false);\n                setIsInviting(false);\n                // Don't close admin/collab view here, handled by their own close buttons\n            }\n        };\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => document.removeEventListener('mousedown', handleClickOutside);\n    }, []);\n\n    const handleInviteSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!inviteEmail) return;\n\n        try {\n            const collabId = `${userId}_${inviteEmail.trim()}`;\n            await setDoc(doc(db, 'collaborations', collabId), {\n                inviterId: userId,\n                inviteeEmail: inviteEmail.trim(),\n                createdAt: Date.now()\n            });\n\n            alert(`Invite sent to ${inviteEmail}!`);\n            setInviteEmail('');\n            setIsInviting(false);\n        } catch (error: any) {\n            console.error('Error sending invite:', error);\n            alert('Failed to send invite: ' + error.message);\n        }\n    };\n\n    return (\n        <div className=\"relative font-display\" ref={menuRef}>\n            <button\n                onClick={() => setIsOpen(!isOpen)}\n                className=\"text-2xl font-bold text-slate-900 flex items-center gap-2 hover:opacity-80 transition-opacity\"\n            >\n                Hi <span className=\"text-primary\">{userName || 'User'}</span>\n            </button>\n\n            {isOpen && (\n                <div className=\"absolute top-full left-0 mt-2 w-80 bg-white rounded-[var(--radius-lg)] material-shadow-2 z-50 overflow-hidden border border-slate-100 p-2 text-sm\">\n\n                    {/* Invite Action */}\n                    <div className=\"mb-1\">\n                        {!isInviting ? (\n                            <button\n                                onClick={() => setIsInviting(true)}\n                                className=\"w-full text-left px-4 py-3 rounded-lg hover:bg-slate-50 flex items-center gap-3 transition-colors text-slate-700 font-medium\"\n                            >\n                                <div className=\"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-600\">\n                                    <UserPlus size={18} />\n                                </div>\n                                Invite Collaborator\n                            </button>\n                        ) : (\n                            <form onSubmit={handleInviteSubmit} className=\"p-2 flex gap-2 bg-slate-50 rounded-lg items-center\">\n                                <input\n                                    type=\"email\"\n                                    autoFocus\n                                    className=\"flex-1 bg-transparent text-sm font-medium placeholder-slate-400 focus:outline-none min-w-0 h-8\"\n                                    placeholder=\"friend@email.com\"\n                                    value={inviteEmail}\n                                    onChange={(e) => setInviteEmail(e.target.value)}\n                                />\n                                <div className=\"flex gap-1 shrink-0\">\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => setIsInviting(false)}\n                                        className=\"w-8 h-8 flex items-center justify-center text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-200 transition-colors\"\n                                    >\n                                        <X size={16} />\n                                    </button>\n                                    <button\n                                        type=\"submit\"\n                                        className=\"w-8 h-8 flex items-center justify-center text-white bg-green-500 hover:bg-green-600 rounded-full shadow-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                                        disabled={!inviteEmail}\n                                    >\n                                        <Check size={16} />\n                                    </button>\n                                </div>\n                            </form>\n                        )}\n                    </div>\n\n                    {/* Manage Collaborators */}\n                    <div className=\"mb-1\">\n                        <button\n                            onClick={() => {\n                                setIsOpen(false);\n                                setShowCollaborators(true);\n                            }}\n                            className=\"w-full text-left px-4 py-3 rounded-lg hover:bg-slate-50 flex items-center gap-3 transition-colors text-slate-700 font-medium\"\n                        >\n                            <div className=\"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-600\">\n                                <Users size={18} />\n                            </div>\n                            Manage Collaborators\n                        </button>\n                    </div>\n\n                    {/* Admin Actions */}\n                    {isAdmin && (\n                        <div className=\"mb-1\">\n                            <button\n                                onClick={() => {\n                                    setIsOpen(false);\n                                    setShowAdminApproval(true);\n                                }}\n                                className=\"w-full text-left px-4 py-3 rounded-lg hover:bg-slate-50 flex items-center gap-3 transition-colors text-slate-700 font-medium\"\n                            >\n                                <div className=\"w-8 h-8 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600\">\n                                    <Shield size={18} />\n                                </div>\n                                Approve Users\n                            </button>\n                        </div>\n                    )}\n\n                    {/* Divider */}\n                    <div className=\"h-px bg-slate-100 my-1 mx-2\" />\n\n                    {/* Logout Action */}\n                    <button\n                        onClick={onLogout}\n                        className=\"w-full text-left px-4 py-3 rounded-lg hover:bg-red-50 flex items-center gap-3 transition-colors text-red-600 font-medium group\"\n                    >\n                        <div className=\"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center text-red-600 group-hover:bg-red-200 transition-colors\">\n                            <LogOut size={18} />\n                        </div>\n                        Log Out\n                    </button>\n                </div>\n            )}\n            {showAdminApproval && <AdminApprovalView onClose={() => setShowAdminApproval(false)} />}\n            {showCollaborators && <CollaboratorsView userId={userId} onClose={() => setShowCollaborators(false)} />}\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;;;;;;;;;AASO,MAAM,WAAW,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAiB;;IAC3E,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAC;IAC3D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAC;IAC3D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,UAAU,IAAA,uKAAM,EAAiB;IAEvC,yBAAyB;IACzB,IAAA,0KAAS;8BAAC;YACN,MAAM;yDAAqB,CAAC;oBACxB,IAAI,QAAQ,OAAO,IAAI,CAAC,QAAQ,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;wBACpE,UAAU;wBACV,cAAc;oBACd,yEAAyE;oBAC7E;gBACJ;;YACA,SAAS,gBAAgB,CAAC,aAAa;YACvC;sCAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;;QAC3D;6BAAG,EAAE;IAEL,MAAM,qBAAqB,OAAO;QAC9B,EAAE,cAAc;QAChB,IAAI,CAAC,aAAa;QAElB,IAAI;YACA,MAAM,WAAW,GAAG,OAAO,CAAC,EAAE,YAAY,IAAI,IAAI;YAClD,MAAM,IAAA,4KAAM,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,kBAAkB,WAAW;gBAC9C,WAAW;gBACX,cAAc,YAAY,IAAI;gBAC9B,WAAW,KAAK,GAAG;YACvB;YAEA,MAAM,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC;YACtC,eAAe;YACf,cAAc;QAClB,EAAE,OAAO,OAAY;YACjB,QAAQ,KAAK,CAAC,yBAAyB;YACvC,MAAM,4BAA4B,MAAM,OAAO;QACnD;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;QAAwB,KAAK;;0BACxC,6LAAC;gBACG,SAAS,IAAM,UAAU,CAAC;gBAC1B,WAAU;;oBACb;kCACM,6LAAC;wBAAK,WAAU;kCAAgB,YAAY;;;;;;;;;;;;YAGlD,wBACG,6LAAC;gBAAI,WAAU;;kCAGX,6LAAC;wBAAI,WAAU;kCACV,CAAC,2BACE,6LAAC;4BACG,SAAS,IAAM,cAAc;4BAC7B,WAAU;;8CAEV,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC,6NAAQ;wCAAC,MAAM;;;;;;;;;;;gCACd;;;;;;qFAIV,6LAAC;4BAAK,UAAU;4BAAoB,WAAU;;8CAC1C,6LAAC;oCACG,MAAK;oCACL,SAAS;oCACT,WAAU;oCACV,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;8CAElD,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CACG,MAAK;4CACL,SAAS,IAAM,cAAc;4CAC7B,WAAU;sDAEV,cAAA,6LAAC,oMAAC;gDAAC,MAAM;;;;;;;;;;;sDAEb,6LAAC;4CACG,MAAK;4CACL,WAAU;4CACV,UAAU,CAAC;sDAEX,cAAA,6LAAC,gNAAK;gDAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAQjC,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BACG,SAAS;gCACL,UAAU;gCACV,qBAAqB;4BACzB;4BACA,WAAU;;8CAEV,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC,gNAAK;wCAAC,MAAM;;;;;;;;;;;gCACX;;;;;;;;;;;;oBAMb,yBACG,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BACG,SAAS;gCACL,UAAU;gCACV,qBAAqB;4BACzB;4BACA,WAAU;;8CAEV,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC,mNAAM;wCAAC,MAAM;;;;;;;;;;;gCACZ;;;;;;;;;;;;kCAOlB,6LAAC;wBAAI,WAAU;;;;;;kCAGf,6LAAC;wBACG,SAAS;wBACT,WAAU;;0CAEV,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC,uNAAM;oCAAC,MAAM;;;;;;;;;;;4BACZ;;;;;;;;;;;;;YAKjB,mCAAqB,6LAAC,0JAAiB;gBAAC,SAAS,IAAM,qBAAqB;;;;;;YAC5E,mCAAqB,6LAAC,0JAAiB;gBAAC,QAAQ;gBAAQ,SAAS,IAAM,qBAAqB;;;;;;;;;;;;AAGzG;GArJa;KAAA"}},
    {"offset": {"line": 3272, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/components/TopNavBar.tsx"],"sourcesContent":["import { Menu, Search, User } from 'lucide-react';\nimport { UserMenu } from './UserMenu';\n\ninterface TopNavBarProps {\n    onMenuClick: () => void;\n    title?: string;\n    userName?: string | null;\n    userId?: string;\n    onLogout: () => void;\n}\n\nexport const TopNavBar = ({ onMenuClick, title = 'Bilbo', userName, userId, onLogout }: TopNavBarProps) => {\n    return (\n        <header className=\"h-14 bg-white border-b border-slate-200 flex items-center justify-between px-4 sticky top-0 z-20\">\n            <div className=\"flex items-center gap-4\">\n                <button\n                    onClick={onMenuClick}\n                    className=\"p-2 hover:bg-slate-100 rounded-lg text-slate-600 transition-colors\"\n                    aria-label=\"Toggle Sidebar\"\n                >\n                    <Menu size={20} />\n                </button>\n                <h1 className=\"text-lg font-semibold text-slate-800 hidden sm:block\">\n                    {title}\n                </h1>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n                <div className=\"relative hidden md:block group\">\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-500 transition-colors\" size={16} />\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search...\"\n                        className=\"bg-slate-100 hover:bg-slate-50 focus:bg-white border border-transparent focus:border-indigo-500 rounded-lg pl-9 pr-4 py-1.5 text-sm transition-all outline-none w-64\"\n                    />\n                </div>\n\n                {/* User Module - Reusing existing UserMenu but making it fit the nav bar style if needed, \n                    or just a simple avatar triggered dropdown */}\n                <div className=\"ml-2\">\n                    <UserMenu userName={userName} userId={userId || ''} onLogout={onLogout} minimal />\n                </div>\n            </div>\n        </header>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;;;;AAUO,MAAM,YAAY,CAAC,EAAE,WAAW,EAAE,QAAQ,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAkB;IAClG,qBACI,6LAAC;QAAO,WAAU;;0BACd,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,SAAS;wBACT,WAAU;wBACV,cAAW;kCAEX,cAAA,6LAAC,6MAAI;4BAAC,MAAM;;;;;;;;;;;kCAEhB,6LAAC;wBAAG,WAAU;kCACT;;;;;;;;;;;;0BAIT,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,mNAAM;gCAAC,WAAU;gCAA+G,MAAM;;;;;;0CACvI,6LAAC;gCACG,MAAK;gCACL,aAAY;gCACZ,WAAU;;;;;;;;;;;;kCAMlB,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,6IAAQ;4BAAC,UAAU;4BAAU,QAAQ,UAAU;4BAAI,UAAU;4BAAU,OAAO;;;;;;;;;;;;;;;;;;;;;;;AAKnG;KAlCa"}},
    {"offset": {"line": 3389, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/components/Layout.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Sidebar } from './Sidebar';\nimport { TopNavBar } from './TopNavBar';\n\ninterface LayoutProps {\n    children: React.ReactNode;\n    currentView: string;\n    onNavigate: (view: any) => void;\n    onLogout: () => void;\n    userEmail?: string | null;\n    userName?: string | null;\n    userId?: string;\n}\n\nexport const Layout = ({ children, currentView, onNavigate, onLogout, userEmail, userName, userId }: LayoutProps) => {\n    const [isSidebarOpen, setSidebarOpen] = useState(true);\n    const [isMobile, setIsMobile] = useState(false);\n\n    // Handle responsive sidebar behavior\n    useEffect(() => {\n        const handleResize = () => {\n            const mobile = window.innerWidth < 768;\n            setIsMobile(mobile);\n            if (mobile) {\n                setSidebarOpen(false);\n            } else {\n                setSidebarOpen(true);\n            }\n        };\n\n        // Initial check\n        handleResize();\n\n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    }, []);\n\n    const toggleSidebar = () => setSidebarOpen(!isSidebarOpen);\n\n    return (\n        <div className=\"min-h-screen bg-white flex flex-col\">\n            <TopNavBar\n                onMenuClick={toggleSidebar}\n                userName={userName}\n                userId={userId}\n                onLogout={onLogout}\n            />\n\n            <div className=\"flex flex-1 overflow-hidden h-[calc(100vh-3.5rem)]\">\n                {/* Sidebar - Desktop: Relative/Collapsible | Mobile: Absolute/Drawer */}\n                <div className={`\n                    ${isMobile ? 'absolute z-30 h-full shadow-2xl' : 'relative'}\n                    ${isSidebarOpen ? 'w-64' : 'w-0'} \n                    transition-all duration-300 ease-in-out bg-slate-50 border-r border-slate-200 overflow-hidden\n                `}>\n                    <div className=\"w-64 h-full\"> {/* Inner container to prevent content squishing */}\n                        <Sidebar\n                            currentView={currentView as any}\n                            onNavigate={(view) => {\n                                onNavigate(view);\n                                if (isMobile) setSidebarOpen(false);\n                            }}\n                            onLogout={onLogout}\n                            userEmail={userEmail}\n                            compact={true} // New prop to hide header/logout if desired since they are in TopNav/UserMenu\n                        />\n                    </div>\n                </div>\n\n                {/* Mobile Backdrop */}\n                {isMobile && isSidebarOpen && (\n                    <div\n                        className=\"absolute inset-0 bg-black/20 z-20 backdrop-blur-sm\"\n                        onClick={() => setSidebarOpen(false)}\n                    />\n                )}\n\n                {/* Main Content */}\n                <main className=\"flex-1 overflow-y-auto relative w-full bg-white\">\n                    {children}\n                </main>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;AAYO,MAAM,SAAS,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAe;;IAC5G,MAAM,CAAC,eAAe,eAAe,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,qCAAqC;IACrC,IAAA,0KAAS;4BAAC;YACN,MAAM;iDAAe;oBACjB,MAAM,SAAS,OAAO,UAAU,GAAG;oBACnC,YAAY;oBACZ,IAAI,QAAQ;wBACR,eAAe;oBACnB,OAAO;wBACH,eAAe;oBACnB;gBACJ;;YAEA,gBAAgB;YAChB;YAEA,OAAO,gBAAgB,CAAC,UAAU;YAClC;oCAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACtD;2BAAG,EAAE;IAEL,MAAM,gBAAgB,IAAM,eAAe,CAAC;IAE5C,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC,+IAAS;gBACN,aAAa;gBACb,UAAU;gBACV,QAAQ;gBACR,UAAU;;;;;;0BAGd,6LAAC;gBAAI,WAAU;;kCAEX,6LAAC;wBAAI,WAAW,CAAC;oBACb,EAAE,WAAW,oCAAoC,WAAW;oBAC5D,EAAE,gBAAgB,SAAS,MAAM;;gBAErC,CAAC;kCACG,cAAA,6LAAC;4BAAI,WAAU;;gCAAc;8CACzB,6LAAC,2IAAO;oCACJ,aAAa;oCACb,YAAY,CAAC;wCACT,WAAW;wCACX,IAAI,UAAU,eAAe;oCACjC;oCACA,UAAU;oCACV,WAAW;oCACX,SAAS;;;;;;;;;;;;;;;;;oBAMpB,YAAY,+BACT,6LAAC;wBACG,WAAU;wBACV,SAAS,IAAM,eAAe;;;;;;kCAKtC,6LAAC;wBAAK,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAKrB;GAtEa;KAAA"}},
    {"offset": {"line": 3520, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/components/TaskItem.tsx"],"sourcesContent":["import { Check, Calendar } from 'lucide-react';\nimport { clsx } from 'clsx';\nimport { ListItem } from '../types';\n\ninterface TaskItemProps {\n    item: ListItem;\n    onToggle: (item: ListItem) => void;\n    onDelete?: (item: ListItem) => void;\n    listName?: string; // Optional context\n}\n\nexport const TaskItem = ({ item, onToggle, onDelete, listName }: TaskItemProps) => {\n    // TickTick Style:\n    // Left: Checkbox (Priority Color) - Circular for tasks\n    // Middle: Content\n    // Right: Metadata (Date, Tags, List Name) within the row or on hover actions\n\n    return (\n        <div className=\"group flex items-center gap-3 p-3 bg-white border-b border-slate-100 hover:bg-slate-50 transition-colors\">\n            {/* Checkbox / Priority */}\n            <button\n                onClick={() => onToggle(item)}\n                className={clsx(\n                    \"w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all\",\n                    item.isBought\n                        ? \"bg-indigo-500 border-indigo-500 text-white\"\n                        : \"border-slate-300 hover:border-indigo-500 text-transparent hover:text-indigo-500\"\n                )}\n            >\n                <Check size={12} strokeWidth={3} />\n            </button>\n\n            {/* Content */}\n            <div className=\"flex-1 min-w-0\">\n                <p className={clsx(\n                    \"text-sm font-medium truncate\",\n                    item.isBought ? \"text-slate-400 line-through\" : \"text-slate-800\"\n                )}>\n                    {item.name}\n                </p>\n                {/* Subtitle / Metadata Row */}\n                <div className=\"flex items-center gap-2 mt-0.5\">\n                    {listName && (\n                        <span className=\"text-[10px] uppercase font-bold text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded\">\n                            {listName}\n                        </span>\n                    )}\n                    {item.quantity && item.quantity > 1 && (\n                        <span className=\"text-xs text-slate-500\">\n                            Qty: {item.quantity} {item.unit}\n                        </span>\n                    )}\n                </div>\n            </div>\n\n            {/* Actions / Date (Right Side) */}\n            {/* For now just showing date or nothing. Hover actions could go here. */}\n            <div className=\"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                {/* Placeholder for future date picker */}\n                {/* <button className=\"p-1.5 text-slate-400 hover:text-indigo-600 rounded\">\n                    <Calendar size={16} />\n                 </button> */}\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAUO,MAAM,WAAW,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAiB;IAC1E,kBAAkB;IAClB,uDAAuD;IACvD,kBAAkB;IAClB,6EAA6E;IAE7E,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBACG,SAAS,IAAM,SAAS;gBACxB,WAAW,IAAA,gJAAI,EACX,iFACA,KAAK,QAAQ,GACP,+CACA;0BAGV,cAAA,6LAAC,gNAAK;oBAAC,MAAM;oBAAI,aAAa;;;;;;;;;;;0BAIlC,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAE,WAAW,IAAA,gJAAI,EACd,gCACA,KAAK,QAAQ,GAAG,gCAAgC;kCAE/C,KAAK,IAAI;;;;;;kCAGd,6LAAC;wBAAI,WAAU;;4BACV,0BACG,6LAAC;gCAAK,WAAU;0CACX;;;;;;4BAGR,KAAK,QAAQ,IAAI,KAAK,QAAQ,GAAG,mBAC9B,6LAAC;gCAAK,WAAU;;oCAAyB;oCAC/B,KAAK,QAAQ;oCAAC;oCAAE,KAAK,IAAI;;;;;;;;;;;;;;;;;;;0BAQ/C,6LAAC;gBAAI,WAAU;;;;;;;;;;;;AAQ3B;KAtDa"}},
    {"offset": {"line": 3625, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/components/TaskListView.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Plus } from 'lucide-react';\nimport { useCollection } from 'react-firebase-hooks/firestore';\nimport { query, collection, where, addDoc, updateDoc, doc, increment, getDoc } from 'firebase/firestore';\nimport { db } from '../lib/firebase';\nimport { TaskItem } from './TaskItem';\nimport { moveItemToPantry } from '../lib/logic';\nimport type { ListItem } from '../types';\n\ninterface TaskListViewProps {\n    viewId: string;\n    userId: string;\n}\n\nexport const TaskListView = ({ viewId, userId }: TaskListViewProps) => {\n    const [newItemName, setNewItemName] = useState('');\n    const [viewTitle, setViewTitle] = useState('Today');\n    const [currentListId, setCurrentListId] = useState<string | null>(null);\n\n    // --- Query Logic ---\n    // 1. Determine if it's a Smart View or a List View\n    const isSmartView = ['inbox', 'today', 'next7days', 'trash'].includes(viewId);\n\n    // 2. Fetch List Details (if not smart View) to get title\n    useEffect(() => {\n        const fetchListDetails = async () => {\n            if (isSmartView) {\n                const titles: Record<string, string> = {\n                    'inbox': 'Inbox',\n                    'today': 'Today',\n                    'next7days': 'Next 7 Days',\n                    'trash': 'Trash'\n                };\n                setViewTitle(titles[viewId] || 'Tasks');\n                setCurrentListId(null);\n            } else {\n                // Fetch list name\n                const listDoc = await getDoc(doc(db, 'lists', viewId));\n                if (listDoc.exists()) {\n                    setViewTitle(listDoc.data().name);\n                    setCurrentListId(viewId);\n                }\n            }\n        };\n        fetchListDetails();\n    }, [viewId, isSmartView]);\n\n\n    // 3. Query Items\n    let q = null;\n    if (isSmartView) {\n        if (viewId === 'today') {\n            // For now, \"Today\" will just show EVERYTHING for the user as we don't have due dates yet\n            // Or strictly \"Inbox\" items if we want to differentiate.\n            // Let's make \"Today\" = All unbought items for now to populate the view\n            q = query(collection(db, 'items'), where('userId', '==', userId), where('isBought', '==', false));\n        } else if (viewId === 'inbox') {\n            // Items with no listId? Or strictly \"General\" list?\n            // For now let's map Inbox to \"General\" list if it exists, or just all items\n            q = query(collection(db, 'items'), where('userId', '==', userId), where('isBought', '==', false));\n        } else {\n            q = query(collection(db, 'items'), where('userId', '==', userId), where('isBought', '==', false));\n        }\n    } else {\n        q = query(collection(db, 'items'), where('listId', '==', viewId), where('isBought', '==', false));\n    }\n\n    const [itemsSnapshot, loading, error] = useCollection(q);\n    const items = itemsSnapshot?.docs.map(d => ({ id: d.id, ...d.data() } as ListItem)) || [];\n\n    // --- Handlers ---\n\n    const handleAddItem = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!newItemName.trim()) return;\n\n        // If in a specific list, add to that list.\n        // If in Smart View, add to \"Inbox\" (or General).\n\n        let targetListId = currentListId;\n\n        if (!targetListId) {\n            // Find \"General\" list or create it\n            // For MVP, if we are in \"Today\" view, let's just not support add or alert user\n            // Better: find a default list.\n            // Let's try to find \"General\" list for userId\n            // ... (Simple workaround: require explicit list selection or assume first found list)\n            console.warn(\"Adding to default list not fully implemented in frontend smart view yet\");\n            return;\n        }\n\n        try {\n            // Check for duplicate in this list\n            const existing = items.find(i => i.name.toLowerCase() === newItemName.trim().toLowerCase());\n            if (existing) {\n                await updateDoc(doc(db, 'items', existing.id), { quantity: increment(1) });\n            } else {\n                await addDoc(collection(db, 'items'), {\n                    userId,\n                    listId: targetListId,\n                    name: newItemName,\n                    isBought: false,\n                    quantity: 1,\n                    addedAt: Date.now()\n                });\n            }\n            setNewItemName('');\n        } catch (err) {\n            console.error(\"Error adding item:\", err);\n        }\n    };\n\n    const handleToggle = async (item: ListItem) => {\n        // \"Buying\" the item -> Move to Pantry\n        // We need the list name for the pantry logic\n        // If we are in smart view, we might not know the list name easily without fetching the list doc\n        // BUT, the item has 'listId'.\n\n        // Optimization: Pass listName if known, or fetch it in moveItemToPantry\n        // For now let's assume moveItemToPantry can handle it or we pass a placeholder.\n        await moveItemToPantry(userId, item, viewTitle); // viewTitle might be \"Today\" which is wrong...\n        // TODO: Fix Pantry ListName logic to look up list name from ID if not provided\n    };\n\n    return (\n        <div className=\"flex flex-col h-full bg-white\">\n            {/* Header */}\n            <div className=\"px-8 py-6 pb-2\">\n                <div className=\"flex items-center gap-2 mb-4\">\n                    <h1 className=\"text-2xl font-bold text-slate-900\">{viewTitle}</h1>\n                </div>\n\n                {/* Quick Add Bar */}\n                {currentListId && (\n                    <form onSubmit={handleAddItem} className=\"relative group\">\n                        <Plus className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-500 transition-colors\" size={20} />\n                        <input\n                            type=\"text\"\n                            value={newItemName}\n                            onChange={(e) => setNewItemName(e.target.value)}\n                            placeholder={`Add a task to \"${viewTitle}\"...`}\n                            className=\"w-full bg-slate-50 hover:bg-slate-100 focus:bg-white border-none focus:ring-2 focus:ring-indigo-100 rounded-lg py-3 pl-10 pr-4 text-base transition-all outline-none placeholder-slate-400\"\n                        />\n                    </form>\n                )}\n            </div>\n\n            {/* Task List */}\n            <div className=\"flex-1 overflow-y-auto px-4 pb-20\">\n                {items.length === 0 ? (\n                    <div className=\"flex flex-col items-center justify-center h-64 text-slate-400\">\n                        <p>No tasks found.</p>\n                    </div>\n                ) : (\n                    <div className=\"\">\n                        {items.map(item => (\n                            <TaskItem\n                                key={item.id}\n                                item={item}\n                                onToggle={handleToggle}\n                                // In smart view, we ideally want to show which list it comes from\n                                listName={isSmartView ? \"List\" : undefined}\n                            />\n                        ))}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;AAQO,MAAM,eAAe,CAAC,EAAE,MAAM,EAAE,MAAM,EAAqB;;IAC9D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAgB;IAElE,sBAAsB;IACtB,mDAAmD;IACnD,MAAM,cAAc;QAAC;QAAS;QAAS;QAAa;KAAQ,CAAC,QAAQ,CAAC;IAEtE,yDAAyD;IACzD,IAAA,0KAAS;kCAAC;YACN,MAAM;2DAAmB;oBACrB,IAAI,aAAa;wBACb,MAAM,SAAiC;4BACnC,SAAS;4BACT,SAAS;4BACT,aAAa;4BACb,SAAS;wBACb;wBACA,aAAa,MAAM,CAAC,OAAO,IAAI;wBAC/B,iBAAiB;oBACrB,OAAO;wBACH,kBAAkB;wBAClB,MAAM,UAAU,MAAM,IAAA,4KAAM,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,SAAS;wBAC9C,IAAI,QAAQ,MAAM,IAAI;4BAClB,aAAa,QAAQ,IAAI,GAAG,IAAI;4BAChC,iBAAiB;wBACrB;oBACJ;gBACJ;;YACA;QACJ;iCAAG;QAAC;QAAQ;KAAY;IAGxB,iBAAiB;IACjB,IAAI,IAAI;IACR,IAAI,aAAa;QACb,IAAI,WAAW,SAAS;YACpB,yFAAyF;YACzF,yDAAyD;YACzD,uEAAuE;YACvE,IAAI,IAAA,2KAAK,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,UAAU,IAAA,2KAAK,EAAC,UAAU,MAAM,SAAS,IAAA,2KAAK,EAAC,YAAY,MAAM;QAC9F,OAAO,IAAI,WAAW,SAAS;YAC3B,oDAAoD;YACpD,4EAA4E;YAC5E,IAAI,IAAA,2KAAK,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,UAAU,IAAA,2KAAK,EAAC,UAAU,MAAM,SAAS,IAAA,2KAAK,EAAC,YAAY,MAAM;QAC9F,OAAO;YACH,IAAI,IAAA,2KAAK,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,UAAU,IAAA,2KAAK,EAAC,UAAU,MAAM,SAAS,IAAA,2KAAK,EAAC,YAAY,MAAM;QAC9F;IACJ,OAAO;QACH,IAAI,IAAA,2KAAK,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,UAAU,IAAA,2KAAK,EAAC,UAAU,MAAM,SAAS,IAAA,2KAAK,EAAC,YAAY,MAAM;IAC9F;IAEA,MAAM,CAAC,eAAe,SAAS,MAAM,GAAG,IAAA,mMAAa,EAAC;IACtD,MAAM,QAAQ,eAAe,KAAK,IAAI,CAAA,IAAK,CAAC;YAAE,IAAI,EAAE,EAAE;YAAE,GAAG,EAAE,IAAI,EAAE;QAAC,CAAa,MAAM,EAAE;IAEzF,mBAAmB;IAEnB,MAAM,gBAAgB,OAAO;QACzB,EAAE,cAAc;QAChB,IAAI,CAAC,YAAY,IAAI,IAAI;QAEzB,2CAA2C;QAC3C,iDAAiD;QAEjD,IAAI,eAAe;QAEnB,IAAI,CAAC,cAAc;YACf,mCAAmC;YACnC,+EAA+E;YAC/E,+BAA+B;YAC/B,8CAA8C;YAC9C,sFAAsF;YACtF,QAAQ,IAAI,CAAC;YACb;QACJ;QAEA,IAAI;YACA,mCAAmC;YACnC,MAAM,WAAW,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,CAAC,WAAW,OAAO,YAAY,IAAI,GAAG,WAAW;YACxF,IAAI,UAAU;gBACV,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,SAAS,SAAS,EAAE,GAAG;oBAAE,UAAU,IAAA,+KAAS,EAAC;gBAAG;YAC5E,OAAO;gBACH,MAAM,IAAA,4KAAM,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,UAAU;oBAClC;oBACA,QAAQ;oBACR,MAAM;oBACN,UAAU;oBACV,UAAU;oBACV,SAAS,KAAK,GAAG;gBACrB;YACJ;YACA,eAAe;QACnB,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,sBAAsB;QACxC;IACJ;IAEA,MAAM,eAAe,OAAO;QACxB,sCAAsC;QACtC,6CAA6C;QAC7C,gGAAgG;QAChG,8BAA8B;QAE9B,wEAAwE;QACxE,gFAAgF;QAChF,MAAM,IAAA,0IAAgB,EAAC,QAAQ,MAAM,YAAY,+CAA+C;IAChG,+EAA+E;IACnF;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAG,WAAU;sCAAqC;;;;;;;;;;;oBAItD,+BACG,6LAAC;wBAAK,UAAU;wBAAe,WAAU;;0CACrC,6LAAC,6MAAI;gCAAC,WAAU;gCAA+G,MAAM;;;;;;0CACrI,6LAAC;gCACG,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gCAC9C,aAAa,CAAC,eAAe,EAAE,UAAU,IAAI,CAAC;gCAC9C,WAAU;;;;;;;;;;;;;;;;;;0BAO1B,6LAAC;gBAAI,WAAU;0BACV,MAAM,MAAM,KAAK,kBACd,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC;kCAAE;;;;;;;;;;6EAGP,6LAAC;oBAAI,WAAU;8BACV,MAAM,GAAG,CAAC,CAAA,qBACP,6LAAC,6IAAQ;4BAEL,MAAM;4BACN,UAAU;4BACV,kEAAkE;4BAClE,UAAU,cAAc,SAAS;2BAJ5B,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;AAY5C;GA3Ja;;QAqD+B,mMAAa;;;KArD5C"}},
    {"offset": {"line": 3876, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/App.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { auth, db } from './lib/firebase';\nimport { LandingView } from './views/LandingView';\nimport { PantryView } from './views/PantryView';\nimport { WaitApprovalView } from './views/WaitApprovalView';\nimport { HelpView } from './views/HelpView';\nimport { CalendarView } from './views/CalendarView';\nimport { Layout } from './components/Layout';\nimport { TaskListView } from './components/TaskListView';\nimport { Loader2, LogOut } from 'lucide-react';\nimport { doc, setDoc, onSnapshot } from 'firebase/firestore';\nimport { UserProfile } from './types';\n\nfunction App() {\n  const [user, loading, error] = useAuthState(auth);\n  const [appUser, setAppUser] = useState<UserProfile | null>(null);\n  const [isAppUserLoading, setIsAppUserLoading] = useState(false);\n  const [currentView, setCurrentView] = useState<string>('today');\n  const [timedOut, setTimedOut] = useState(false);\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  // Fetch or Create Firestore User\n  useEffect(() => {\n    let unsubscribe = () => { };\n\n    const syncUser = async () => {\n      if (!user) {\n        setAppUser(null);\n        return;\n      }\n\n      setIsAppUserLoading(true);\n      try {\n        const userRef = doc(db, 'users', user.uid);\n        // Use onSnapshot to listen for changes (like approval) in real-time\n        unsubscribe = onSnapshot(userRef, async (snapshot) => {\n          if (snapshot.exists()) {\n            setAppUser({ uid: user.uid, ...snapshot.data() } as UserProfile);\n          } else {\n            // New user registration\n            const newUser: UserProfile = {\n              uid: user.uid,\n              email: user.email,\n              displayName: user.displayName,\n              role: 'user',\n              isApproved: false,\n              preferences: {\n                autoAddBackToShoppingList: true\n              }\n            };\n            await setDoc(userRef, newUser);\n            // Snapshot listener will pick this up immediately\n          }\n          setIsAppUserLoading(false);\n        });\n      } catch (err) {\n        console.error(\"Error fetching user doc:\", err);\n        setIsAppUserLoading(false);\n      }\n    };\n\n    syncUser();\n    return () => unsubscribe();\n  }, [user]);\n\n  // Prevent hydration mismatch\n  if (!isMounted) return null;\n\n  if ((loading || (user && isAppUserLoading)) && !timedOut) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-surface\">\n        <div className=\"text-center\">\n          <Loader2 className=\"text-primary animate-spin mx-auto mb-4\" size={48} />\n          <p className=\"text-slate-500 animate-pulse\">Connecting...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || (timedOut && !user && !loading)) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-surface p-6 text-center\">\n        <div className=\"max-w-xs\">\n          <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <LogOut className=\"text-red-600\" size={32} />\n          </div>\n          <h2 className=\"text-2xl font-bold text-slate-800 mb-2\">Connection Issue</h2>\n          <button\n            onClick={() => window.location.reload()}\n            className=\"w-full bg-slate-900 text-white py-3 rounded-xl font-bold\"\n          >\n            Retry Connection\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return <LandingView onLoginSuccess={() => setCurrentView('today')} />;\n  }\n\n  // Check approval status\n  if (appUser && !appUser.isApproved) {\n    return <WaitApprovalView onLogout={() => auth.signOut()} email={user?.email || ''} />;\n  }\n\n  if (currentView === 'landing') {\n    return (\n      <LandingView\n        onLoginSuccess={() => setCurrentView('today')}\n        isLoggedIn={true}\n        onGoToDashboard={() => setCurrentView('today')}\n      />\n    );\n  }\n\n  return (\n    <Layout\n      currentView={currentView}\n      onNavigate={setCurrentView}\n      onLogout={() => auth.signOut()}\n      userEmail={user.email}\n      userName={user.displayName}\n      userId={user.uid}\n    >\n      {/* Route Logic */}\n      {['pantry', 'calendar', 'help'].includes(currentView) ? (\n        <>\n          {currentView === 'pantry' && <PantryView userId={user.uid} />}\n          {currentView === 'calendar' && <CalendarView userId={user.uid} onBack={() => setCurrentView('today')} />}\n          {currentView === 'help' && <HelpView onBack={() => setCurrentView('today')} />}\n        </>\n      ) : (\n        // Default: Task List View (Handles Smart Lists & Custom Lists)\n        <TaskListView viewId={currentView} userId={user.uid} />\n      )}\n    </Layout>\n  );\n}\nexport default App;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4161, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/app/page.tsx"],"sourcesContent":["\"use client\";\nimport App from '../App';\n\nexport default function Home() {\n    return <App />;\n}\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGe,SAAS;IACpB,qBAAO,6LAAC,yHAAG;;;;;AACf;KAFwB"}}]
}