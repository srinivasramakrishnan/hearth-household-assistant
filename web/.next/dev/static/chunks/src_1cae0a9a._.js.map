{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/views/LandingView.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { ShoppingCart, Zap, ArrowRight, Loader2, Check, Sparkles, Calendar, MessageSquare, Menu, X } from 'lucide-react';\nimport { auth, db } from '../lib/firebase';\nimport { signInWithPopup, GoogleAuthProvider, isSignInWithEmailLink, signInWithEmailLink } from 'firebase/auth';\nimport { doc, setDoc, serverTimestamp } from 'firebase/firestore';\n\ninterface LandingViewProps {\n    onLoginSuccess: () => void;\n    isLoggedIn?: boolean;\n    onGoToDashboard?: () => void;\n}\n\nexport const LandingView = ({ onLoginSuccess, isLoggedIn = false, onGoToDashboard }: LandingViewProps) => {\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n    const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n\n    // Handle Email Link Sign-in\n    useEffect(() => {\n        if (isSignInWithEmailLink(auth, window.location.href)) {\n            setIsLoading(true);\n            let email = window.localStorage.getItem('emailForSignIn');\n\n            if (!email) {\n                email = window.prompt('Please provide your email for confirmation');\n            }\n\n            if (email) {\n                signInWithEmailLink(auth, email, window.location.href)\n                    .then(async (result) => {\n                        window.localStorage.removeItem('emailForSignIn');\n                        if (result.user) {\n                            await setDoc(doc(db, 'users', result.user.uid), {\n                                uid: result.user.uid,\n                                email: result.user.email,\n                                displayName: result.user.displayName || email?.split('@')[0],\n                                photoURL: result.user.photoURL,\n                                lastLogin: serverTimestamp()\n                            }, { merge: true });\n                        }\n                        onLoginSuccess();\n                    })\n                    .catch((err) => {\n                        console.error(\"Email link sign-in failed:\", err);\n                        setError(err.message);\n                        setIsLoading(false);\n                    });\n            } else {\n                setIsLoading(false);\n                setError(\"Email is required to complete sign-in.\");\n            }\n        }\n    }, [onLoginSuccess]);\n\n    const handleLogin = async () => {\n        if (isLoggedIn && onGoToDashboard) {\n            onGoToDashboard();\n            return;\n        }\n\n        setIsLoading(true);\n        setError(null);\n        try {\n            const provider = new GoogleAuthProvider();\n            const result = await signInWithPopup(auth, provider);\n\n            if (result.user) {\n                await setDoc(doc(db, 'users', result.user.uid), {\n                    uid: result.user.uid,\n                    email: result.user.email,\n                    displayName: result.user.displayName,\n                    photoURL: result.user.photoURL,\n                    lastLogin: serverTimestamp()\n                }, { merge: true });\n            }\n\n            onLoginSuccess();\n        } catch (err: any) {\n            console.error(\"Login failed:\", err);\n            if (err.code === 'auth/popup-blocked') {\n                setError(\"Popup blocked! Please allow popups for this site and try again.\");\n            } else if (err.code === 'auth/configuration-not-found') {\n                setError(\"Firebase Authentication is not configured. Please enable Google Sign-In in the Firebase Console.\");\n            } else {\n                setError(err.message || \"Failed to sign in. Please try again.\");\n            }\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen bg-slate-50 font-sans text-slate-900 overflow-x-hidden\">\n            {/* Navbar */}\n            <nav className=\"fixed top-0 w-full z-50 bg-white/80 backdrop-blur-md border-b border-slate-200/50\">\n                <div className=\"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                        <div className=\"w-10 h-10 bg-gradient-to-br from-indigo-600 to-violet-600 rounded-xl flex items-center justify-center shadow-lg shadow-indigo-200\">\n                            <Sparkles className=\"text-white\" size={20} />\n                        </div>\n                        <span className=\"font-bold text-2xl tracking-tight\">Sam</span>\n                    </div>\n\n                    {/* Desktop Menu */}\n                    <div className=\"hidden md:flex items-center gap-8\">\n                        <a href=\"#features\" className=\"text-sm font-medium text-slate-600 hover:text-indigo-600 transition-colors\">Features</a>\n                        <a href=\"#how-it-works\" className=\"text-sm font-medium text-slate-600 hover:text-indigo-600 transition-colors\">How it Works</a>\n                        <button\n                            onClick={handleLogin}\n                            className=\"bg-slate-900 text-white px-5 py-2.5 rounded-full text-sm font-bold hover:bg-slate-800 transition-all hover:scale-105 active:scale-95 shadow-md\"\n                        >\n                            {isLoggedIn ? 'Go to Dashboard' : 'Sign In'}\n                        </button>\n                    </div>\n\n                    {/* Mobile Menu Toggle */}\n                    <button\n                        className=\"md:hidden text-slate-900\"\n                        onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n                    >\n                        {isMobileMenuOpen ? <X size={24} /> : <Menu size={24} />}\n                    </button>\n                </div>\n\n                {/* Mobile Menu */}\n                {isMobileMenuOpen && (\n                    <div className=\"md:hidden absolute top-20 left-0 w-full bg-white border-b border-slate-100 p-6 flex flex-col gap-4 shadow-xl\">\n                        <a href=\"#features\" onClick={() => setIsMobileMenuOpen(false)} className=\"text-lg font-medium text-slate-900\">Features</a>\n                        <a href=\"#how-it-works\" onClick={() => setIsMobileMenuOpen(false)} className=\"text-lg font-medium text-slate-900\">How it Works</a>\n                        <button\n                            onClick={() => {\n                                handleLogin();\n                                setIsMobileMenuOpen(false);\n                            }}\n                            className=\"bg-indigo-600 text-white px-5 py-3 rounded-xl text-lg font-bold w-full\"\n                        >\n                            {isLoggedIn ? 'Go to Dashboard' : 'Sign In'}\n                        </button>\n                    </div>\n                )}\n            </nav>\n\n            {/* Hero Section */}\n            <header className=\"relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden\">\n                <div className=\"absolute inset-0 z-0\">\n                    <div className=\"absolute top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[600px] bg-gradient-to-b from-indigo-50 to-white rounded-b-[100px] opacity-60\" />\n                    <div className=\"absolute top-20 right-0 w-[400px] h-[400px] bg-purple-200 rounded-full blur-[100px] opacity-20 animate-pulse\" />\n                    <div className=\"absolute top-40 left-0 w-[300px] h-[300px] bg-blue-200 rounded-full blur-[100px] opacity-20\" />\n                </div>\n\n                <div className=\"max-w-7xl mx-auto px-6 relative z-10 text-center\">\n                    <div className=\"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white border border-slate-200 shadow-sm text-slate-600 text-sm font-semibold mb-8 animate-fade-in-up\">\n                        <span className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\" />\n                        Sam is now in beta\n                    </div>\n\n                    <h1 className=\"text-5xl lg:text-8xl font-extrabold text-slate-900 tracking-tight mb-8 leading-[1.1]\">\n                        Meet Sam. <br />\n                        <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 via-violet-600 to-purple-600\">\n                            Your Household AI.\n                        </span>\n                    </h1>\n\n                    <p className=\"text-xl lg:text-2xl text-slate-600 mb-10 leading-relaxed max-w-2xl mx-auto\">\n                        Sam manages your grocery lists, tracks your pantry, and organizes your schedule—all through a simple chat.\n                    </p>\n\n                    <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4 mb-16\">\n                        <button\n                            onClick={handleLogin}\n                            disabled={isLoading}\n                            className=\"h-14 px-8 rounded-full bg-slate-900 text-white font-bold text-lg flex items-center justify-center gap-2 hover:bg-slate-800 transition-all shadow-xl shadow-slate-200 active:scale-95 min-w-[200px]\"\n                        >\n                            {isLoading ? <Loader2 className=\"animate-spin\" /> : (isLoggedIn ? 'Go to Dashboard' : 'Chat with Sam')}\n                            {!isLoading && <ArrowRight size={20} />}\n                        </button>\n                        <a href=\"#how-it-works\" className=\"h-14 px-8 rounded-full bg-white text-slate-900 border border-slate-200 font-bold text-lg flex items-center justify-center gap-2 hover:bg-slate-50 transition-all\">\n                            How it Works\n                        </a>\n                    </div>\n\n                    {error && (\n                        <p className=\"mb-8 text-red-600 text-sm bg-red-50 py-2 px-4 rounded-lg inline-block\">{error}</p>\n                    )}\n\n                    {/* Hero Visual */}\n                    <div className=\"relative max-w-5xl mx-auto\">\n                        <div className=\"relative bg-white rounded-3xl shadow-2xl border border-slate-200 overflow-hidden aspect-[16/9] md:aspect-[2/1] flex flex-col md:flex-row\">\n                            {/* Chat Interface Mockup */}\n                            <div className=\"flex-1 bg-slate-50 p-6 flex flex-col border-r border-slate-100\">\n                                <div className=\"flex items-center gap-3 mb-6\">\n                                    <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center\">\n                                        <Sparkles className=\"text-white w-4 h-4\" />\n                                    </div>\n                                    <div className=\"font-bold text-slate-900\">Sam</div>\n                                </div>\n                                <div className=\"space-y-4 flex-1\">\n                                    <div className=\"bg-white p-4 rounded-2xl rounded-tl-none shadow-sm border border-slate-100 max-w-[90%]\">\n                                        <p className=\"text-slate-700 text-sm\">Good morning! You're out of milk and have a vet appointment at 2 PM. Should I add milk to the shopping list?</p>\n                                    </div>\n                                    <div className=\"bg-indigo-600 p-4 rounded-2xl rounded-tr-none shadow-md ml-auto max-w-[90%] text-white\">\n                                        <p className=\"text-sm\">Yes, please. And add eggs too.</p>\n                                    </div>\n                                    <div className=\"bg-white p-4 rounded-2xl rounded-tl-none shadow-sm border border-slate-100 max-w-[90%] animate-pulse\">\n                                        <div className=\"flex items-center gap-2\">\n                                            <Check className=\"text-green-500 w-4 h-4\" />\n                                            <p className=\"text-slate-700 text-sm\">Added milk and eggs to your Grocery List.</p>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* App Interface Mockup */}\n                            <div className=\"flex-1 bg-white p-6 hidden md:block\">\n                                <div className=\"mb-4\">\n                                    <div className=\"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2\">Shopping List</div>\n                                    <div className=\"space-y-3\">\n                                        <div className=\"flex items-center gap-3 p-3 rounded-xl bg-slate-50 border border-slate-100\">\n                                            <div className=\"w-5 h-5 rounded-md border-2 border-slate-300\" />\n                                            <span className=\"font-medium text-slate-700\">Milk (Whole)</span>\n                                            <span className=\"ml-auto text-xs font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded-md\">Pantry Empty</span>\n                                        </div>\n                                        <div className=\"flex items-center gap-3 p-3 rounded-xl bg-slate-50 border border-slate-100\">\n                                            <div className=\"w-5 h-5 rounded-md border-2 border-slate-300\" />\n                                            <span className=\"font-medium text-slate-700\">Large Brown Eggs</span>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div>\n                                    <div className=\"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2\">Upcoming</div>\n                                    <div className=\"flex items-center gap-3 p-3 rounded-xl bg-indigo-50 border border-indigo-100\">\n                                        <div className=\"w-10 h-10 rounded-lg bg-indigo-200 text-indigo-700 flex items-col items-center justify-center text-xs font-bold leading-none\">\n                                            <span>Feb</span>\n                                            <span className=\"text-sm\">16</span>\n                                        </div>\n                                        <div>\n                                            <div className=\"font-bold text-slate-900\">Vet Appointment</div>\n                                            <div className=\"text-xs text-slate-500\">2:00 PM - 3:00 PM</div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </header>\n\n            {/* Features Section */}\n            <section id=\"features\" className=\"py-24 bg-white relative z-10\">\n                <div className=\"max-w-7xl mx-auto px-6\">\n                    <div className=\"text-center max-w-2xl mx-auto mb-16\">\n                        <h2 className=\"text-3xl lg:text-4xl font-bold text-slate-900 mb-4\">More than just a chatbot.</h2>\n                        <p className=\"text-slate-500 text-lg\">Sam is deeply integrated into your household's data, making it actionable and organized.</p>\n                    </div>\n\n                    <div className=\"grid md:grid-cols-3 gap-8\">\n                        <FeatureCard\n                            icon={<MessageSquare className=\"text-indigo-500\" />}\n                            title=\"Chat Anywhere\"\n                            description=\"Talk to Sam via WhatsApp or the web app. It's like texting a helpful house manager.\"\n                        />\n                        <FeatureCard\n                            icon={<ShoppingCart className=\"text-emerald-500\" />}\n                            title=\"Smart Pantry\"\n                            description=\"Sam tracks what you buy and what you use. Never question if you have garlic again.\"\n                        />\n                        <FeatureCard\n                            icon={<Calendar className=\"text-purple-500\" />}\n                            title=\"Family Sync\"\n                            description=\"Lists and events are shared with your household instantly. Everyone stays on the same page.\"\n                        />\n                    </div>\n                </div>\n            </section>\n\n            {/* Footer */}\n            <footer className=\"bg-slate-50 py-12 border-t border-slate-200\">\n                <div className=\"max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6\">\n                    <div className=\"flex items-center gap-2\">\n                        <div className=\"w-8 h-8 bg-slate-900 rounded-lg flex items-center justify-center\">\n                            <Sparkles className=\"text-white\" size={16} />\n                        </div>\n                        <span className=\"font-bold text-xl text-slate-900\">Sam</span>\n                    </div>\n                    <p className=\"text-slate-400 text-sm\">© 2026 Sam Household Assistant.</p>\n                </div>\n            </footer>\n        </div>\n    );\n};\n\nconst FeatureCard = ({ icon, title, description }: { icon: React.ReactNode, title: string, description: string }) => (\n    <div className=\"p-8 rounded-3xl bg-slate-50 border border-slate-100 hover:bg-white hover:shadow-xl hover:shadow-slate-200/50 hover:border-slate-200 transition-all duration-300\">\n        <div className=\"w-14 h-14 bg-white rounded-2xl shadow-sm border border-slate-100 flex items-center justify-center mb-6\">\n            {icon}\n        </div>\n        <h3 className=\"text-xl font-bold text-slate-900 mb-3\">{title}</h3>\n        <p className=\"text-slate-500 leading-relaxed\">{description}</p>\n    </div>\n);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 906, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/views/WaitApprovalView.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { Clock, LogOut } from 'lucide-react';\n\ninterface WaitApprovalViewProps {\n    onLogout: () => void;\n    email?: string | null;\n}\n\nexport function WaitApprovalView({ onLogout, email }: WaitApprovalViewProps) {\n    return (\n        <div className=\"min-h-screen flex items-center justify-center bg-surface p-6\">\n            <div className=\"max-w-md w-full text-center\">\n                <div className=\"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse\">\n                    <Clock className=\"text-primary\" size={40} />\n                </div>\n\n                <h1 className=\"text-3xl font-bold text-on-surface mb-4\">Account Pending</h1>\n\n                <p className=\"text-slate-500 text-lg mb-8 leading-relaxed\">\n                    Thanks for signing up{email ? `, ${email}` : ''}!\n                    <br />\n                    Your account is currently waiting for administrator approval.\n                    You will be granted access once an admin reviews your request.\n                </p>\n\n                <div className=\"bg-surface-variant/50 border border-border p-4 rounded-xl mb-8 text-sm text-slate-500\">\n                    Please contact the administrator if you believe this is an error or if you need immediate access.\n                </div>\n\n                <button\n                    onClick={onLogout}\n                    className=\"w-full bg-slate-900 hover:bg-slate-800 text-white py-3.5 rounded-xl font-bold transition-all flex items-center justify-center gap-2 shadow-lg shadow-slate-900/20\"\n                >\n                    <LogOut size={20} />\n                    Sign Out\n                </button>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;;;AAOO,SAAS,iBAAiB,EAAE,QAAQ,EAAE,KAAK,EAAyB;IACvE,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC,gNAAK;wBAAC,WAAU;wBAAe,MAAM;;;;;;;;;;;8BAG1C,6LAAC;oBAAG,WAAU;8BAA0C;;;;;;8BAExD,6LAAC;oBAAE,WAAU;;wBAA8C;wBACjC,QAAQ,CAAC,EAAE,EAAE,OAAO,GAAG;wBAAG;sCAChD,6LAAC;;;;;wBAAK;;;;;;;8BAKV,6LAAC;oBAAI,WAAU;8BAAwF;;;;;;8BAIvG,6LAAC;oBACG,SAAS;oBACT,WAAU;;sCAEV,6LAAC,uNAAM;4BAAC,MAAM;;;;;;wBAAM;;;;;;;;;;;;;;;;;;AAMxC;KA/BgB"}},
    {"offset": {"line": 1010, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/components/sam/BottomNav.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { Home, ShoppingBasket, Plus, MessageSquare, Settings } from 'lucide-react';\n\ninterface BottomNavProps {\n    activeTab: 'home' | 'pantry' | 'chat' | 'setup';\n    onNavigate: (tab: 'home' | 'pantry' | 'chat' | 'setup') => void;\n}\n\nexport const BottomNav = ({ activeTab, onNavigate }: BottomNavProps) => {\n    const NavItem = ({ id, icon: Icon, label }: { id: typeof activeTab, icon: any, label: string }) => (\n        <button\n            onClick={() => onNavigate(id)}\n            className={`flex flex-col items-center gap-1 text-[10px] font-medium transition-colors\n                ${activeTab === id ? 'text-[var(--accent-olive)]' : 'text-[var(--text-tertiary)]'}\n            `}\n        >\n            <Icon size={20} className={activeTab === id ? 'stroke-2' : 'stroke-[1.5px]'} />\n            {label}\n        </button>\n    );\n\n    return (\n        <nav className=\"absolute bottom-0 left-0 right-0 bg-white h-[72px] flex justify-around items-center border-t border-[rgba(0,0,0,0.05)] pb-3 z-30\">\n            <NavItem id=\"home\" icon={Home} label=\"Home\" />\n            <NavItem id=\"pantry\" icon={ShoppingBasket} label=\"Pantry\" />\n\n            {/* FAB */}\n            <button className=\"bg-[var(--accent-olive)] text-white w-12 h-12 rounded-full flex items-center justify-center shadow-[0_4px_12px_rgba(47,56,38,0.3)] -mt-8 active:scale-95 transition-transform\">\n                <Plus size={24} />\n            </button>\n\n            <NavItem id=\"chat\" icon={MessageSquare} label=\"Chat\" />\n            <NavItem id=\"setup\" icon={Settings} label=\"Setup\" />\n        </nav>\n    );\n};\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;;;AAOO,MAAM,YAAY,CAAC,EAAE,SAAS,EAAE,UAAU,EAAkB;IAC/D,MAAM,UAAU,CAAC,EAAE,EAAE,EAAE,MAAM,IAAI,EAAE,KAAK,EAAsD,iBAC1F,6LAAC;YACG,SAAS,IAAM,WAAW;YAC1B,WAAW,CAAC;gBACR,EAAE,cAAc,KAAK,+BAA+B,8BAA8B;YACtF,CAAC;;8BAED,6LAAC;oBAAK,MAAM;oBAAI,WAAW,cAAc,KAAK,aAAa;;;;;;gBAC1D;;;;;;;IAIT,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAQ,IAAG;gBAAO,MAAM,8MAAI;gBAAE,OAAM;;;;;;0BACrC,6LAAC;gBAAQ,IAAG;gBAAS,MAAM,+OAAc;gBAAE,OAAM;;;;;;0BAGjD,6LAAC;gBAAO,WAAU;0BACd,cAAA,6LAAC,6MAAI;oBAAC,MAAM;;;;;;;;;;;0BAGhB,6LAAC;gBAAQ,IAAG;gBAAO,MAAM,4OAAa;gBAAE,OAAM;;;;;;0BAC9C,6LAAC;gBAAQ,IAAG;gBAAQ,MAAM,yNAAQ;gBAAE,OAAM;;;;;;;;;;;;AAGtD;KA3Ba"}},
    {"offset": {"line": 1114, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/components/sam/SamLayout.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { BottomNav } from './BottomNav';\n\ninterface SamLayoutProps {\n    children: React.ReactNode;\n    activeTab: 'home' | 'pantry' | 'chat' | 'setup';\n    onNavigate: (tab: 'home' | 'pantry' | 'chat' | 'setup') => void;\n}\n\nexport const SamLayout = ({ children, activeTab, onNavigate }: SamLayoutProps) => {\n    return (\n        <div className=\"flex flex-col h-[100dvh] bg-[var(--bg-paper)] overflow-hidden font-sans text-[var(--text-primary)]\">\n            {/* Mobile Viewport Constraint */}\n            <div className=\"w-full max-w-[480px] mx-auto h-full flex flex-col relative bg-[var(--bg-paper)] shadow-2xl\">\n\n                {/* Header */}\n                <header className=\"p-4 bg-[var(--bg-paper)] z-20\">\n                    <div className=\"flex justify-between items-center mb-2\">\n                        <div className=\"font-serif text-[20px] font-semibold\">Sam</div>\n                        <div className=\"w-7 h-7 rounded-full bg-[var(--accent-slate)] text-white text-[12px] flex items-center justify-center font-semibold\">S</div>\n                    </div>\n                    {/* Header Slot (for Briefing) */}\n                    <div id=\"sam-header-slot\" />\n                </header>\n\n                {/* Main Content Area */}\n                <main className=\"flex-1 overflow-y-auto px-4 pb-[100px]\">\n                    {children}\n                </main>\n\n                {/* Bottom Navigation */}\n                <BottomNav activeTab={activeTab} onNavigate={onNavigate} />\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAEA;;;AAQO,MAAM,YAAY,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,EAAkB;IACzE,qBACI,6LAAC;QAAI,WAAU;kBAEX,cAAA,6LAAC;YAAI,WAAU;;8BAGX,6LAAC;oBAAO,WAAU;;sCACd,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAI,WAAU;8CAAuC;;;;;;8CACtD,6LAAC;oCAAI,WAAU;8CAAsH;;;;;;;;;;;;sCAGzI,6LAAC;4BAAI,IAAG;;;;;;;;;;;;8BAIZ,6LAAC;oBAAK,WAAU;8BACX;;;;;;8BAIL,6LAAC,sJAAS;oBAAC,WAAW;oBAAW,YAAY;;;;;;;;;;;;;;;;;AAI7D;KA1Ba"}},
    {"offset": {"line": 1207, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/components/sam/MorningBriefing.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { ChevronDown, Calendar, AlertCircle } from 'lucide-react';\n\nexport const MorningBriefing = () => {\n    return (\n        <details className=\"group bg-[var(--bg-card)] rounded-xl overflow-hidden shadow-[var(--shadow-soft)] mb-2 transition-all duration-300\">\n            <summary className=\"list-none p-4 cursor-pointer flex justify-between items-center bg-[var(--bg-card)]\">\n                <span className=\"text-[11px] uppercase tracking-wider text-[var(--text-secondary)] font-semibold\">Morning Briefing</span>\n                <ChevronDown size={16} className=\"text-[var(--text-secondary)] transition-transform group-open:rotate-180\" />\n            </summary>\n\n            <div className=\"px-4 pb-4 flex flex-col gap-4\">\n                <div className=\"flex gap-4 items-center\">\n                    <div className=\"w-7 h-7 bg-[var(--bg-paper)] rounded-full flex items-center justify-center text-[var(--accent-olive)]\">\n                        <AlertCircle size={16} />\n                    </div>\n                    <div>\n                        <div className=\"font-semibold text-[16px] text-[var(--text-primary)]\">3 Items</div>\n                        <div className=\"text-[13px] text-[var(--text-secondary)]\">Expiring soon</div>\n                    </div>\n                </div>\n\n                <div className=\"flex gap-4 items-center\">\n                    <div className=\"w-7 h-7 bg-[var(--bg-paper)] rounded-full flex items-center justify-center text-[var(--accent-olive)]\">\n                        <Calendar size={16} />\n                    </div>\n                    <div>\n                        <div className=\"font-semibold text-[16px] text-[var(--text-primary)]\">Soccer</div>\n                        <div className=\"text-[13px] text-[var(--text-secondary)]\">Starts in 2h</div>\n                    </div>\n                </div>\n            </div>\n        </details>\n    );\n};\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;;;AAEO,MAAM,kBAAkB;IAC3B,qBACI,6LAAC;QAAQ,WAAU;;0BACf,6LAAC;gBAAQ,WAAU;;kCACf,6LAAC;wBAAK,WAAU;kCAAkF;;;;;;kCAClG,6LAAC,sOAAW;wBAAC,MAAM;wBAAI,WAAU;;;;;;;;;;;;0BAGrC,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC,sOAAW;oCAAC,MAAM;;;;;;;;;;;0CAEvB,6LAAC;;kDACG,6LAAC;wCAAI,WAAU;kDAAuD;;;;;;kDACtE,6LAAC;wCAAI,WAAU;kDAA2C;;;;;;;;;;;;;;;;;;kCAIlE,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC,yNAAQ;oCAAC,MAAM;;;;;;;;;;;0CAEpB,6LAAC;;kDACG,6LAAC;wCAAI,WAAU;kDAAuD;;;;;;kDACtE,6LAAC;wCAAI,WAAU;kDAA2C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMlF;KA/Ba"}},
    {"offset": {"line": 1366, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/components/sam/InventoryItem.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { Check } from 'lucide-react';\n\ninterface InventoryItemProps {\n    name: string;\n    avatarLabel?: string;\n    avatarColor?: string; // Hex color for the badge background\n    isChecked?: boolean;\n    subtext?: string;\n    isRecurring?: boolean;\n    onToggle?: () => void;\n}\n\nexport const InventoryItem = ({ name, avatarLabel, avatarColor = '#6B7C85', isChecked = false, subtext, isRecurring, onToggle }: InventoryItemProps) => {\n    return (\n        <div className=\"bg-white p-4 rounded-xl flex justify-between items-center shadow-sm border border-transparent hover:border-slate-100 transition-colors\">\n            <div className=\"flex flex-col gap-0.5\">\n                <div className=\"text-[15px] font-medium text-[var(--text-primary)]\">{name}</div>\n                {avatarLabel && (\n                    <div\n                        className=\"w-[18px] h-[18px] rounded-full text-white text-[9px] flex items-center justify-center font-semibold mt-1\"\n                        style={{ backgroundColor: avatarColor }}\n                    >\n                        {avatarLabel}\n                    </div>\n                )}\n                {subtext && !avatarLabel && (\n                    <div className=\"text-[10px] text-[var(--text-secondary)] mt-0.5\">{subtext}</div>\n                )}\n            </div>\n\n            <label className=\"relative flex items-center justify-center cursor-pointer group\">\n                <input\n                    type=\"checkbox\"\n                    defaultChecked={isChecked}\n                    className=\"appearance-none w-5 h-5 rounded border border-[var(--accent-sage)] checked:bg-[var(--accent-olive)] checked:border-[var(--accent-olive)] transition-colors\"\n                />\n                <Check size={14} className=\"absolute text-white opacity-0 group-has-[:checked]:opacity-100 pointer-events-none\" />\n            </label>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAEA;;;AAYO,MAAM,gBAAgB,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,cAAc,SAAS,EAAE,YAAY,KAAK,EAAE,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAsB;IAC/I,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCAAsD;;;;;;oBACpE,6BACG,6LAAC;wBACG,WAAU;wBACV,OAAO;4BAAE,iBAAiB;wBAAY;kCAErC;;;;;;oBAGR,WAAW,CAAC,6BACT,6LAAC;wBAAI,WAAU;kCAAmD;;;;;;;;;;;;0BAI1E,6LAAC;gBAAM,WAAU;;kCACb,6LAAC;wBACG,MAAK;wBACL,gBAAgB;wBAChB,WAAU;;;;;;kCAEd,6LAAC,gNAAK;wBAAC,MAAM;wBAAI,WAAU;;;;;;;;;;;;;;;;;;AAI3C;KA5Ba"}},
    {"offset": {"line": 1457, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/views/SamDashboard.tsx"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport { SamLayout } from '../components/sam/SamLayout';\nimport { MorningBriefing } from '../components/sam/MorningBriefing';\nimport { InventoryItem } from '../components/sam/InventoryItem';\n\nexport const SamDashboard = () => {\n    const [activeTab, setActiveTab] = useState<'home' | 'pantry' | 'chat' | 'setup'>('home');\n    const [activeListTab, setActiveListTab] = useState<'stock' | 'shopping' | 'events'>('shopping');\n\n    return (\n        <SamLayout activeTab={activeTab} onNavigate={(tab) => setActiveTab(tab)}>\n            <MorningBriefing />\n\n            {/* Main Scroll Content */}\n            <div className=\"mt-4\">\n                <h1 className=\"font-serif text-[22px] mb-1\">Shopping List</h1>\n                <div className=\"text-[13px] text-[var(--text-secondary)] mb-4\">Items to purchase</div>\n\n                {/* Tabs Mobile */}\n                <div className=\"flex gap-1 bg-[var(--bg-card)] p-1 rounded-full mb-6\">\n                    <button\n                        onClick={() => setActiveListTab('stock')}\n                        className={`flex-1 text-center py-2 text-[13px] rounded-full transition-colors ${activeListTab === 'stock' ? 'bg-[var(--accent-olive)] text-white' : 'text-[var(--text-secondary)]'}`}\n                    >\n                        Stock\n                    </button>\n                    <button\n                        onClick={() => setActiveListTab('shopping')}\n                        className={`flex-1 text-center py-2 text-[13px] rounded-full transition-colors ${activeListTab === 'shopping' ? 'bg-[var(--accent-olive)] text-white' : 'text-[var(--text-secondary)]'}`}\n                    >\n                        Shopping\n                    </button>\n                    <button\n                        onClick={() => setActiveListTab('events')}\n                        className={`flex-1 text-center py-2 text-[13px] rounded-full transition-colors ${activeListTab === 'events' ? 'bg-[var(--accent-olive)] text-white' : 'text-[var(--text-secondary)]'}`}\n                    >\n                        Events\n                    </button>\n                </div>\n\n                {/* Inventory List */}\n                <div className=\"flex flex-col gap-2\">\n                    <div className=\"text-[11px] uppercase tracking-wider text-[var(--text-secondary)] font-semibold mt-2 mb-1\">Staples</div>\n\n                    <InventoryItem\n                        name=\"Oat Milk (Barista)\"\n                        avatarLabel=\"S\"\n                        avatarColor=\"var(--accent-slate)\"\n                        isChecked={true}\n                    />\n                    <InventoryItem\n                        name=\"Greek Yogurt\"\n                        avatarLabel=\"L\"\n                        avatarColor=\"#C4A484\"\n                        isChecked={true}\n                    />\n                    <InventoryItem\n                        name=\"Sourdough Bread\"\n                        subtext=\"Recurring\"\n                    />\n\n                    <div className=\"text-[11px] uppercase tracking-wider text-[var(--text-secondary)] font-semibold mt-4 mb-1\">Household</div>\n\n                    <InventoryItem\n                        name=\"Dishwasher Pods\"\n                        avatarLabel=\"S\"\n                        avatarColor=\"var(--accent-slate)\"\n                        isChecked={true}\n                    />\n                </div>\n            </div>\n        </SamLayout>\n    );\n};\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;;;;;AAEO,MAAM,eAAe;;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAuC;IACjF,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAkC;IAEpF,qBACI,6LAAC,sJAAS;QAAC,WAAW;QAAW,YAAY,CAAC,MAAQ,aAAa;;0BAC/D,6LAAC,kKAAe;;;;;0BAGhB,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAA8B;;;;;;kCAC5C,6LAAC;wBAAI,WAAU;kCAAgD;;;;;;kCAG/D,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCACG,SAAS,IAAM,iBAAiB;gCAChC,WAAW,CAAC,mEAAmE,EAAE,kBAAkB,UAAU,wCAAwC,gCAAgC;0CACxL;;;;;;0CAGD,6LAAC;gCACG,SAAS,IAAM,iBAAiB;gCAChC,WAAW,CAAC,mEAAmE,EAAE,kBAAkB,aAAa,wCAAwC,gCAAgC;0CAC3L;;;;;;0CAGD,6LAAC;gCACG,SAAS,IAAM,iBAAiB;gCAChC,WAAW,CAAC,mEAAmE,EAAE,kBAAkB,WAAW,wCAAwC,gCAAgC;0CACzL;;;;;;;;;;;;kCAML,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;0CAA4F;;;;;;0CAE3G,6LAAC,8JAAa;gCACV,MAAK;gCACL,aAAY;gCACZ,aAAY;gCACZ,WAAW;;;;;;0CAEf,6LAAC,8JAAa;gCACV,MAAK;gCACL,aAAY;gCACZ,aAAY;gCACZ,WAAW;;;;;;0CAEf,6LAAC,8JAAa;gCACV,MAAK;gCACL,SAAQ;;;;;;0CAGZ,6LAAC;gCAAI,WAAU;0CAA4F;;;;;;0CAE3G,6LAAC,8JAAa;gCACV,MAAK;gCACL,aAAY;gCACZ,aAAY;gCACZ,WAAW;;;;;;;;;;;;;;;;;;;;;;;;AAMnC;GApEa;KAAA"}},
    {"offset": {"line": 1627, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/App.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { auth, db } from './lib/firebase';\nimport { LandingView } from './views/LandingView';\nimport { PantryView } from './views/PantryView';\nimport { WaitApprovalView } from './views/WaitApprovalView';\nimport { HelpView } from './views/HelpView';\nimport { CalendarView } from './views/CalendarView';\nimport { Layout } from './components/Layout';\nimport { SamDashboard } from './views/SamDashboard';\nimport { TaskListView } from './components/TaskListView';\nimport { Loader2, LogOut } from 'lucide-react';\nimport { doc, setDoc, onSnapshot } from 'firebase/firestore';\nimport { UserProfile } from './types';\n\nfunction App() {\n  const [user, loading, error] = useAuthState(auth);\n  const [appUser, setAppUser] = useState<UserProfile | null>(null);\n  const [isAppUserLoading, setIsAppUserLoading] = useState(false);\n  const [currentView, setCurrentView] = useState<string>('today');\n  const [timedOut, setTimedOut] = useState(false);\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  // Fetch or Create Firestore User\n  useEffect(() => {\n    let unsubscribe = () => { };\n\n    const syncUser = async () => {\n      if (!user) {\n        setAppUser(null);\n        return;\n      }\n\n      setIsAppUserLoading(true);\n      try {\n        const userRef = doc(db, 'users', user.uid);\n        // Use onSnapshot to listen for changes (like approval) in real-time\n        unsubscribe = onSnapshot(userRef, async (snapshot) => {\n          if (snapshot.exists()) {\n            setAppUser({ uid: user.uid, ...snapshot.data() } as UserProfile);\n          } else {\n            // New user registration\n            const newUser: UserProfile = {\n              uid: user.uid,\n              email: user.email,\n              displayName: user.displayName,\n              role: 'user',\n              isApproved: false,\n              preferences: {\n                autoAddBackToShoppingList: true\n              }\n            };\n            await setDoc(userRef, newUser);\n            // Snapshot listener will pick this up immediately\n          }\n          setIsAppUserLoading(false);\n        });\n      } catch (err) {\n        console.error(\"Error fetching user doc:\", err);\n        setIsAppUserLoading(false);\n      }\n    };\n\n    syncUser();\n    return () => unsubscribe();\n  }, [user]);\n\n  // Prevent hydration mismatch\n  if (!isMounted) return null;\n\n  if ((loading || (user && isAppUserLoading)) && !timedOut) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-surface\">\n        <div className=\"text-center\">\n          <Loader2 className=\"text-primary animate-spin mx-auto mb-4\" size={48} />\n          <p className=\"text-slate-500 animate-pulse\">Connecting...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || (timedOut && !user && !loading)) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-surface p-6 text-center\">\n        <div className=\"max-w-xs\">\n          <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <LogOut className=\"text-red-600\" size={32} />\n          </div>\n          <h2 className=\"text-2xl font-bold text-slate-800 mb-2\">Connection Issue</h2>\n          <button\n            onClick={() => window.location.reload()}\n            className=\"w-full bg-slate-900 text-white py-3 rounded-xl font-bold\"\n          >\n            Retry Connection\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return <LandingView onLoginSuccess={() => setCurrentView('today')} />;\n  }\n\n  // Check approval status\n  if (appUser && !appUser.isApproved) {\n    return <WaitApprovalView onLogout={() => auth.signOut()} email={user?.email || ''} />;\n  }\n\n  if (currentView === 'landing') {\n    return (\n      <LandingView\n        onLoginSuccess={() => setCurrentView('today')}\n        isLoggedIn={true}\n        onGoToDashboard={() => setCurrentView('today')}\n      />\n    );\n  }\n\n  return (\n    <SamDashboard />\n  );\n}\nexport default App;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1859, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/app/page.tsx"],"sourcesContent":["\"use client\";\nimport App from '../App';\n\nexport default function Home() {\n    return <App />;\n}\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGe,SAAS;IACpB,qBAAO,6LAAC,yHAAG;;;;;AACf;KAFwB"}}]
}