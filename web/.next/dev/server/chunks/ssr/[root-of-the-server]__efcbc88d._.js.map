{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/lib/firebase.ts"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getAnalytics } from \"firebase/analytics\";\n\n// These values will be filled in once we have the Firebase project setup\nconst firebaseConfig = {\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n    measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID\n};\n\nconst app = initializeApp(firebaseConfig);\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);\n\n// Initialize analytics only on client side to avoid SSR errors\nexport const analytics = typeof window !== \"undefined\" ? getAnalytics(app) : null;\n\nexport default app;\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;;;AAEA,yEAAyE;AACzE,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACjB;AAEA,MAAM,MAAM,IAAA,iLAAa,EAAC;AACnB,MAAM,OAAO,IAAA,6KAAO,EAAC;AACrB,MAAM,KAAK,IAAA,iLAAY,EAAC;AAGxB,MAAM,YAAY,sCAAgC,0BAAoB;uCAE9D"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/context/AuthContext.tsx"],"sourcesContent":["\"use client\";\nimport { createContext, useContext, useEffect, useState } from 'react';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { auth, db } from '../lib/firebase';\nimport { doc, getDoc, setDoc, onSnapshot } from 'firebase/firestore';\nimport { UserProfile } from '../types';\nimport { User } from 'firebase/auth';\n\ninterface AuthContextType {\n    user: User | null | undefined;\n    appUser: UserProfile | null;\n    loading: boolean;\n    error: Error | undefined;\n    logout: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType>({\n    user: undefined,\n    appUser: null,\n    loading: true,\n    error: undefined,\n    logout: async () => { },\n});\n\nexport const AuthProvider = ({ children }: { children: React.ReactNode }) => {\n    const [user, loadingAuth, error] = useAuthState(auth);\n    const [appUser, setAppUser] = useState<UserProfile | null>(null);\n    const [loadingUser, setLoadingUser] = useState(false);\n\n    useEffect(() => {\n        let unsubscribe = () => { };\n\n        const syncUser = async () => {\n            if (!user) {\n                setAppUser(null);\n                setLoadingUser(false);\n                return;\n            }\n\n            setLoadingUser(true);\n            try {\n                const userRef = doc(db, 'users', user.uid);\n                unsubscribe = onSnapshot(userRef, async (snapshot) => {\n                    if (snapshot.exists()) {\n                        setAppUser({ uid: user.uid, ...snapshot.data() } as UserProfile);\n                    } else {\n                        // Create new user profile if logic requires it here, \n                        // matching previous App.tsx logic\n                        const newUser: UserProfile = {\n                            uid: user.uid,\n                            email: user.email,\n                            displayName: user.displayName,\n                            role: 'user',\n                            isApproved: false,\n                            preferences: {\n                                autoAddBackToShoppingList: true\n                            }\n                        };\n                        await setDoc(userRef, newUser);\n                    }\n                    setLoadingUser(false);\n                });\n            } catch (err) {\n                console.error(\"Error syncing user:\", err);\n                setLoadingUser(false);\n            }\n        };\n\n        syncUser();\n        return () => unsubscribe();\n    }, [user]);\n\n    const logout = async () => {\n        await auth.signOut();\n    };\n\n    const loading = loadingAuth || (!!user && loadingUser);\n\n    return (\n        <AuthContext.Provider value={{ user, appUser, loading, error, logout }}>\n            {children}\n        </AuthContext.Provider>\n    );\n};\n\nexport const useAuth = () => useContext(AuthContext);\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA;AAAA;AAJA;;;;;;AAgBA,MAAM,4BAAc,IAAA,sNAAa,EAAkB;IAC/C,MAAM;IACN,SAAS;IACT,SAAS;IACT,OAAO;IACP,QAAQ,WAAc;AAC1B;AAEO,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAiC;IACpE,MAAM,CAAC,MAAM,aAAa,MAAM,GAAG,IAAA,0LAAY,EAAC,8HAAI;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAqB;IAC3D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,IAAA,kNAAS,EAAC;QACN,IAAI,cAAc,KAAQ;QAE1B,MAAM,WAAW;YACb,IAAI,CAAC,MAAM;gBACP,WAAW;gBACX,eAAe;gBACf;YACJ;YAEA,eAAe;YACf,IAAI;gBACA,MAAM,UAAU,IAAA,wKAAG,EAAC,4HAAE,EAAE,SAAS,KAAK,GAAG;gBACzC,cAAc,IAAA,+KAAU,EAAC,SAAS,OAAO;oBACrC,IAAI,SAAS,MAAM,IAAI;wBACnB,WAAW;4BAAE,KAAK,KAAK,GAAG;4BAAE,GAAG,SAAS,IAAI,EAAE;wBAAC;oBACnD,OAAO;wBACH,sDAAsD;wBACtD,kCAAkC;wBAClC,MAAM,UAAuB;4BACzB,KAAK,KAAK,GAAG;4BACb,OAAO,KAAK,KAAK;4BACjB,aAAa,KAAK,WAAW;4BAC7B,MAAM;4BACN,YAAY;4BACZ,aAAa;gCACT,2BAA2B;4BAC/B;wBACJ;wBACA,MAAM,IAAA,2KAAM,EAAC,SAAS;oBAC1B;oBACA,eAAe;gBACnB;YACJ,EAAE,OAAO,KAAK;gBACV,QAAQ,KAAK,CAAC,uBAAuB;gBACrC,eAAe;YACnB;QACJ;QAEA;QACA,OAAO,IAAM;IACjB,GAAG;QAAC;KAAK;IAET,MAAM,SAAS;QACX,MAAM,8HAAI,CAAC,OAAO;IACtB;IAEA,MAAM,UAAU,eAAgB,CAAC,CAAC,QAAQ;IAE1C,qBACI,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAS;YAAO;QAAO;kBAChE;;;;;;AAGb;AAEO,MAAM,UAAU,IAAM,IAAA,mNAAU,EAAC"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///Users/sramakrishna/Documents/Personal%20Projects/Bilbo/web/src/components/NavBar.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { Menu, X, List, Calendar, LogOut } from 'lucide-react';\nimport { useAuth } from '../context/AuthContext';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nexport const NavBar = () => {\n    const [isOpen, setIsOpen] = useState(false);\n    const pathname = usePathname();\n    const { user, logout } = useAuth();\n\n    // Don't show nav if not logged in (handled by protected routes mostly, but good check)\n    if (!user) return null;\n\n    const navItems = [\n        { name: 'Lists', href: '/lists', icon: List },\n        { name: 'Events', href: '/events', icon: Calendar },\n    ];\n\n    return (\n        <>\n            {/* Top Bar */}\n            <div className=\"fixed top-0 right-0 p-4 z-50\">\n                <button\n                    onClick={() => setIsOpen(true)}\n                    className=\"p-2 bg-white rounded-full shadow-md text-slate-700 hover:bg-slate-50 transition-colors\"\n                >\n                    <Menu size={24} />\n                </button>\n            </div>\n\n            {/* Slide-out Menu */}\n            <AnimatePresence>\n                {isOpen && (\n                    <>\n                        {/* Backdrop */}\n                        <motion.div\n                            initial={{ opacity: 0 }}\n                            animate={{ opacity: 0.5 }}\n                            exit={{ opacity: 0 }}\n                            onClick={() => setIsOpen(false)}\n                            className=\"fixed inset-0 bg-black z-40\"\n                        />\n\n                        {/* Drawer */}\n                        <motion.div\n                            initial={{ x: '100%' }}\n                            animate={{ x: 0 }}\n                            exit={{ x: '100%' }}\n                            transition={{ type: 'spring', damping: 25, stiffness: 200 }}\n                            className=\"fixed top-0 right-0 h-full w-64 bg-white shadow-2xl z-50 flex flex-col\"\n                        >\n                            <div className=\"p-4 flex justify-between items-center border-b border-slate-100\">\n                                <h2 className=\"font-bold text-lg text-slate-800\">Menu</h2>\n                                <button\n                                    onClick={() => setIsOpen(false)}\n                                    className=\"p-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-50\"\n                                >\n                                    <X size={24} />\n                                </button>\n                            </div>\n\n                            <div className=\"flex-1 py-4\">\n                                {navItems.map((item) => {\n                                    const Icon = item.icon;\n                                    const isActive = pathname === item.href;\n                                    return (\n                                        <Link\n                                            key={item.href}\n                                            href={item.href}\n                                            onClick={() => setIsOpen(false)}\n                                            className={`flex items-center gap-3 px-6 py-3 transition-colors ${isActive\n                                                    ? 'bg-indigo-50 text-indigo-600 border-r-4 border-indigo-600'\n                                                    : 'text-slate-600 hover:bg-slate-50'\n                                                }`}\n                                        >\n                                            <Icon size={20} />\n                                            <span className=\"font-medium\">{item.name}</span>\n                                        </Link>\n                                    );\n                                })}\n                            </div>\n\n                            <div className=\"p-4 border-t border-slate-100\">\n                                <button\n                                    onClick={() => {\n                                        logout();\n                                        setIsOpen(false);\n                                    }}\n                                    className=\"flex items-center gap-3 w-full px-2 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\n                                >\n                                    <LogOut size={20} />\n                                    <span className=\"font-medium\">Log Out</span>\n                                </button>\n                            </div>\n                        </motion.div>\n                    </>\n                )}\n            </AnimatePresence>\n        </>\n    );\n};\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AANA;;;;;;;;AAQO,MAAM,SAAS;IAClB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,yIAAO;IAEhC,uFAAuF;IACvF,IAAI,CAAC,MAAM,OAAO;IAElB,MAAM,WAAW;QACb;YAAE,MAAM;YAAS,MAAM;YAAU,MAAM,0MAAI;QAAC;QAC5C;YAAE,MAAM;YAAU,MAAM;YAAW,MAAM,sNAAQ;QAAC;KACrD;IAED,qBACI;;0BAEI,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBACG,SAAS,IAAM,UAAU;oBACzB,WAAU;8BAEV,cAAA,8OAAC,0MAAI;wBAAC,MAAM;;;;;;;;;;;;;;;;0BAKpB,8OAAC,4MAAe;0BACX,wBACG;;sCAEI,8OAAC,oMAAM,CAAC,GAAG;4BACP,SAAS;gCAAE,SAAS;4BAAE;4BACtB,SAAS;gCAAE,SAAS;4BAAI;4BACxB,MAAM;gCAAE,SAAS;4BAAE;4BACnB,SAAS,IAAM,UAAU;4BACzB,WAAU;;;;;;sCAId,8OAAC,oMAAM,CAAC,GAAG;4BACP,SAAS;gCAAE,GAAG;4BAAO;4BACrB,SAAS;gCAAE,GAAG;4BAAE;4BAChB,MAAM;gCAAE,GAAG;4BAAO;4BAClB,YAAY;gCAAE,MAAM;gCAAU,SAAS;gCAAI,WAAW;4BAAI;4BAC1D,WAAU;;8CAEV,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAG,WAAU;sDAAmC;;;;;;sDACjD,8OAAC;4CACG,SAAS,IAAM,UAAU;4CACzB,WAAU;sDAEV,cAAA,8OAAC,iMAAC;gDAAC,MAAM;;;;;;;;;;;;;;;;;8CAIjB,8OAAC;oCAAI,WAAU;8CACV,SAAS,GAAG,CAAC,CAAC;wCACX,MAAM,OAAO,KAAK,IAAI;wCACtB,MAAM,WAAW,aAAa,KAAK,IAAI;wCACvC,qBACI,8OAAC,uKAAI;4CAED,MAAM,KAAK,IAAI;4CACf,SAAS,IAAM,UAAU;4CACzB,WAAW,CAAC,oDAAoD,EAAE,WACxD,8DACA,oCACJ;;8DAEN,8OAAC;oDAAK,MAAM;;;;;;8DACZ,8OAAC;oDAAK,WAAU;8DAAe,KAAK,IAAI;;;;;;;2CATnC,KAAK,IAAI;;;;;oCAY1B;;;;;;8CAGJ,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC;wCACG,SAAS;4CACL;4CACA,UAAU;wCACd;wCACA,WAAU;;0DAEV,8OAAC,oNAAM;gDAAC,MAAM;;;;;;0DACd,8OAAC;gDAAK,WAAU;0DAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlE"}}]
}